#datascript/DB {:schema {:node/subpages {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :vc/blocks {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :edit/seen-by {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :window/id {:db/unique :db.unique/identity}, :attrs/lookup {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :node/windows {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :d/v {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :block/clone {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :node/sections {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :harc/v {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :node/title {:db/unique :db.unique/identity}, :block/refs {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :harc/a {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :block/subpage {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :block/children {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :block/focused-user {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :create/seen-by {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :block/uid {:db/unique :db.unique/identity}, :d/e {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :d/a {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :node/links {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :link/to {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :user/email {:db/unique :db.unique/identity}, :query/results {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :harc/e {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :block/parents {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/many}, :block/page {:db/valueType :db.type/ref, :db/cardinality :db.cardinality/one}, :version/id {:db/unique :db.unique/identity}}, :datoms [[1 :version/id "0.0.0" 536870913] [1 :version/nonce "uuidbf533cd8-221f-49ad-b728-44a917fa7e53" 536870913] [1 :version/upgraded-nonce "uuidbf533cd8-221f-49ad-b728-44a917fa7e53" 536870914] [2 :version/id "0.7.8" 536870914] [2 :version/nonce "uuidaba3e823-cc85-45f8-92cb-10552d1bdb80" 536870945] [3 :block/uid "GFmmfkzGa" 536870915] [3 :user/display-name "Imagine" 536870915] [3 :user/email "imagine@gmail.com" 536870915] [3 :user/photo-url "https://gatewaynews.co.za/wp-content/uploads/2014/11/imaginelogo.png" 536870915] [3 :user/settings {:namespace-options [:none :partial :full], :roam/js {:active-blocks #{"JkpY0U2uf" "_jaD0d6Ko" "L4y5xRzk_"}}} 536870941] [3 :user/uid "o762oTBn5kVpe738hudA1VzwEFd2" 536870915] [4 :block/children 156 536870957] [4 :block/uid "01-25-2021" 536870916] [4 :create/email "imagine@gmail.com" 536870916] [4 :create/time 1611594512211 536870916] [4 :edit/email "imagine@gmail.com" 536870916] [4 :edit/seen-by 3 536870942] [4 :edit/time 1611595286101 536870922] [4 :log/id 1611594512209 536870916] [4 :node/title "January 25th, 2021" 536870916] [5 :easter/egg "Imagine what would be possible, if you could freely add fields to Roam's database!" 536870917] [7 :block/children 8 536870920] [7 :block/children 42 536870920] [7 :block/open true 536870920] [7 :block/uid "UM_pk3cKC" 536870922] [7 :create/email "imagine@gmail.com" 536870922] [7 :create/time 1611595285772 536870922] [7 :edit/email "imagine@gmail.com" 536870920] [7 :edit/seen-by 3 536870946] [7 :edit/time 1611595286100 536870922] [7 :node/title "Datomic Query Examples" 536870920] [8 :block/children 9 536870920] [8 :block/children 10 536870920] [8 :block/children 11 536870920] [8 :block/children 13 536870920] [8 :block/children 16 536870920] [8 :block/children 19 536870920] [8 :block/children 39 536870920] [8 :block/children 40 536870920] [8 :block/children 41 536870920] [8 :block/heading 1 536870920] [8 :block/open false 536870920] [8 :block/order 0 536870920] [8 :block/page 7 536870923] [8 :block/parents 7 536870923] [8 :block/string "Instructions" 536870920] [8 :block/uid "1cA6rPdzD" 536870920] [8 :create/email "foo@gmail.com" 536870920] [8 :create/time 1611003121182 536870920] [8 :edit/email "imagine@gmail.com" 536870920] [8 :edit/time 1611595285865 536870920] [9 :block/open true 536870920] [9 :block/order 0 536870920] [9 :block/page 7 536870923] [9 :block/parents 7 536870923] [9 :block/parents 8 536870923] [9 :block/string "Read my blog about [Roam Query](https://www.zsolt.blog/2021/01/Roam-Data-Structure-Query.html)." 536870920] [9 :block/uid "QhQ5XH5F0" 536870920] [9 :create/email "foo@gmail.com" 536870920] [9 :create/time 1611425814479 536870920] [9 :edit/email "imagine@gmail.com" 536870920] [9 :edit/time 1611595285861 536870920] [10 :block/open true 536870920] [10 :block/order 1 536870920] [10 :block/page 7 536870923] [10 :block/parents 7 536870923] [10 :block/parents 8 536870923] [10 :block/string "This will only work if you have [Roam42](https://roam42.com) installed." 536870920] [10 :block/uid "TQRulmKTx" 536870920] [10 :create/email "foo@gmail.com" 536870920] [10 :create/time 1611474003431 536870920] [10 :edit/email "imagine@gmail.com" 536870920] [10 :edit/time 1611595285861 536870920] [11 :block/open true 536870920] [11 :block/order 2 536870920] [11 :block/page 7 536870923] [11 :block/parents 7 536870923] [11 :block/parents 8 536870923] [11 :block/refs 12 536870920] [11 :block/string "Shift click on [[Template/Datomic Query]] and start the roam/js script under **Common functions**. You only need to do this only once." 536870920] [11 :block/uid "vpwOdi4o8" 536870920] [11 :create/email "foo@gmail.com" 536870920] [11 :create/time 1611402998312 536870920] [11 :edit/email "imagine@gmail.com" 536870920] [11 :edit/time 1611595285862 536870920] [12 :block/children 114 536870921] [12 :block/children 118 536870921] [12 :block/children 126 536870921] [12 :block/open true 536870921] [12 :block/uid "iDClSRRHy" 536870922] [12 :create/email "imagine@gmail.com" 536870922] [12 :create/time 1611595285775 536870922] [12 :edit/email "imagine@gmail.com" 536870920] [12 :edit/time 1611595286101 536870922] [12 :node/title "Template/Datomic Query" 536870920] [13 :block/children 14 536870920] [13 :block/children 15 536870920] [13 :block/open false 536870920] [13 :block/order 3 536870920] [13 :block/page 7 536870923] [13 :block/parents 7 536870923] [13 :block/parents 8 536870923] [13 :block/string "Choose between two methods to run a query:" 536870920] [13 :block/uid "MrwYACfyz" 536870920] [13 :create/email "foo@gmail.com" 536870920] [13 :create/time 1611400896358 536870920] [13 :edit/email "imagine@gmail.com" 536870920] [13 :edit/time 1611595285863 536870920] [14 :block/open true 536870920] [14 :block/order 0 536870920] [14 :block/page 7 536870923] [14 :block/parents 7 536870923] [14 :block/parents 8 536870923] [14 :block/parents 13 536870923] [14 :block/string "**simple-query**: If you do not want to pass parameters to the query and you do not want any javascript post-processing, use the simple-query. " 536870920] [14 :block/uid "SBhGNftMp" 536870920] [14 :create/email "foo@gmail.com" 536870920] [14 :create/time 1611400942260 536870920] [14 :edit/email "imagine@gmail.com" 536870920] [14 :edit/time 1611595285862 536870920] [15 :block/open true 536870920] [15 :block/order 1 536870920] [15 :block/page 7 536870923] [15 :block/parents 7 536870923] [15 :block/parents 8 536870923] [15 :block/parents 13 536870923] [15 :block/string "**advanced-query**: The advanced query provides you with full flexibility. But looks a bit more messy." 536870920] [15 :block/uid "0NDTvAakR" 536870920] [15 :create/email "foo@gmail.com" 536870920] [15 :create/time 1611400616108 536870920] [15 :edit/email "imagine@gmail.com" 536870920] [15 :edit/time 1611595285863 536870920] [16 :block/children 17 536870920] [16 :block/children 18 536870920] [16 :block/open false 536870920] [16 :block/order 4 536870920] [16 :block/page 7 536870923] [16 :block/parents 7 536870923] [16 :block/parents 8 536870923] [16 :block/string "To generate the **template for your query** run the appropriate Roam42 SmartBlock:" 536870920] [16 :block/uid "Y_fK_YnPB" 536870920] [16 :create/email "foo@gmail.com" 536870920] [16 :create/time 1611400727434 536870920] [16 :edit/email "imagine@gmail.com" 536870920] [16 :edit/time 1611595285863 536870920] [17 :block/open true 536870920] [17 :block/order 0 536870920] [17 :block/page 7 536870923] [17 :block/parents 7 536870923] [17 :block/parents 8 536870923] [17 :block/parents 16 536870923] [17 :block/string "Datomic simple-template" 536870920] [17 :block/uid "n22r6BROj" 536870920] [17 :create/email "foo@gmail.com" 536870920] [17 :create/time 1611400774875 536870920] [17 :edit/email "imagine@gmail.com" 536870920] [17 :edit/time 1611595285863 536870920] [18 :block/open true 536870920] [18 :block/order 1 536870920] [18 :block/page 7 536870923] [18 :block/parents 7 536870923] [18 :block/parents 8 536870923] [18 :block/parents 16 536870923] [18 :block/string "Datomic advanced-template" 536870920] [18 :block/uid "IgqbeUQGC" 536870920] [18 :create/email "foo@gmail.com" 536870920] [18 :create/time 1611400787918 536870920] [18 :edit/email "imagine@gmail.com" 536870920] [18 :edit/time 1611595285863 536870920] [19 :block/children 20 536870920] [19 :block/children 21 536870920] [19 :block/children 33 536870920] [19 :block/open false 536870920] [19 :block/order 5 536870920] [19 :block/page 7 536870923] [19 :block/parents 7 536870923] [19 :block/parents 8 536870923] [19 :block/string "I have added very basic (and limited) post processing of the result. " 536870920] [19 :block/uid "icP4g__X3" 536870920] [19 :create/email "foo@gmail.com" 536870920] [19 :create/time 1611403118368 536870920] [19 :edit/email "imagine@gmail.com" 536870920] [19 :edit/time 1611595285864 536870920] [20 :block/open true 536870920] [20 :block/order 0 536870920] [20 :block/page 7 536870923] [20 :block/parents 7 536870923] [20 :block/parents 8 536870923] [20 :block/parents 19 536870923] [20 :block/string "Results are displayed in a single block using `::hiccup`. This is to avoid filling your graph with unnecessary number of blocks." 536870920] [20 :block/uid "im3b6Tj8a" 536870920] [20 :create/email "foo@gmail.com" 536870920] [20 :create/time 1611404024487 536870920] [20 :edit/email "imagine@gmail.com" 536870920] [20 :edit/time 1611595285863 536870920] [21 :block/children 22 536870920] [21 :block/children 23 536870920] [21 :block/children 30 536870920] [21 :block/open false 536870920] [21 :block/order 1 536870920] [21 :block/page 7 536870923] [21 :block/parents 7 536870923] [21 :block/parents 8 536870923] [21 :block/parents 19 536870923] [21 :block/string "Displaying Page Titles and Dates as links" 536870920] [21 :block/uid "6_DJMo44U" 536870920] [21 :create/email "foo@gmail.com" 536870920] [21 :create/time 1611403585859 536870920] [21 :edit/email "imagine@gmail.com" 536870920] [21 :edit/time 1611595285864 536870920] [22 :block/open true 536870920] [22 :block/order 0 536870920] [22 :block/page 7 536870923] [22 :block/parents 7 536870923] [22 :block/parents 8 536870923] [22 :block/parents 19 536870923] [22 :block/parents 21 536870923] [22 :block/string "At the moment these only work outside of (pull ) statements, and outside of aggregate functions." 536870920] [22 :block/uid "fNaoEeTEa" 536870920] [22 :create/email "foo@gmail.com" 536870920] [22 :create/time 1611403217135 536870920] [22 :edit/email "imagine@gmail.com" 536870920] [22 :edit/time 1611595285863 536870920] [23 :block/children 24 536870920] [23 :block/children 26 536870920] [23 :block/open false 536870920] [23 :block/order 1 536870920] [23 :block/page 7 536870923] [23 :block/parents 7 536870923] [23 :block/parents 8 536870923] [23 :block/parents 19 536870923] [23 :block/parents 21 536870923] [23 :block/string "I convert **Page Titles** into page links." 536870920] [23 :block/uid "62FB__9FE" 536870920] [23 :create/email "foo@gmail.com" 536870920] [23 :create/time 1611403148147 536870920] [23 :edit/email "imagine@gmail.com" 536870920] [23 :edit/time 1611595285864 536870920] [24 :block/children 25 536870920] [24 :block/open false 536870920] [24 :block/order 0 536870920] [24 :block/page 7 536870923] [24 :block/parents 7 536870923] [24 :block/parents 8 536870923] [24 :block/parents 19 536870923] [24 :block/parents 21 536870923] [24 :block/parents 23 536870923] [24 :block/string "Designate the title filed by adding :name to the field name" 536870920] [24 :block/uid "HvpZ8lzzw" 536870920] [24 :create/email "foo@gmail.com" 536870920] [24 :create/time 1611403206768 536870920] [24 :edit/email "imagine@gmail.com" 536870920] [24 :edit/time 1611595285863 536870920] [25 :block/open true 536870920] [25 :block/order 0 536870920] [25 :block/page 7 536870923] [25 :block/parents 7 536870923] [25 :block/parents 8 536870923] [25 :block/parents 19 536870923] [25 :block/parents 21 536870923] [25 :block/parents 23 536870923] [25 :block/parents 24 536870923] [25 :block/string "?title:name" 536870920] [25 :block/uid "3dHMHrV2Q" 536870920] [25 :create/email "foo@gmail.com" 536870920] [25 :create/time 1611403280400 536870920] [25 :edit/email "imagine@gmail.com" 536870920] [25 :edit/time 1611595285863 536870920] [26 :block/children 27 536870920] [26 :block/children 28 536870920] [26 :block/open false 536870920] [26 :block/order 1 536870920] [26 :block/page 7 536870923] [26 :block/parents 7 536870923] [26 :block/parents 8 536870923] [26 :block/parents 19 536870923] [26 :block/parents 21 536870923] [26 :block/parents 23 536870923] [26 :block/string "Designate the corresponding uid by:" 536870920] [26 :block/uid "v0vqfCYmn" 536870920] [26 :create/email "foo@gmail.com" 536870920] [26 :create/time 1611403284118 536870920] [26 :edit/email "imagine@gmail.com" 536870920] [26 :edit/time 1611595285864 536870920] [27 :block/open true 536870920] [27 :block/order 0 536870920] [27 :block/page 7 536870923] [27 :block/parents 7 536870923] [27 :block/parents 8 536870923] [27 :block/parents 19 536870923] [27 :block/parents 21 536870923] [27 :block/parents 23 536870923] [27 :block/parents 26 536870923] [27 :block/string "placing the uid immediately after the ?title:name field" 536870920] [27 :block/uid "z1sjcpK-9" 536870920] [27 :create/email "foo@gmail.com" 536870920] [27 :create/time 1611403297375 536870920] [27 :edit/email "imagine@gmail.com" 536870920] [27 :edit/time 1611595285863 536870920] [28 :block/children 29 536870920] [28 :block/open false 536870920] [28 :block/order 1 536870920] [28 :block/page 7 536870923] [28 :block/parents 7 536870923] [28 :block/parents 8 536870923] [28 :block/parents 19 536870923] [28 :block/parents 21 536870923] [28 :block/parents 23 536870923] [28 :block/parents 26 536870923] [28 :block/string "and adding :uid to the field name" 536870920] [28 :block/uid "hmzzoSaNs" 536870920] [28 :create/email "foo@gmail.com" 536870920] [28 :create/time 1611403312606 536870920] [28 :edit/email "imagine@gmail.com" 536870920] [28 :edit/time 1611595285863 536870920] [29 :block/open true 536870920] [29 :block/order 0 536870920] [29 :block/page 7 536870923] [29 :block/parents 7 536870923] [29 :block/parents 8 536870923] [29 :block/parents 19 536870923] [29 :block/parents 21 536870923] [29 :block/parents 23 536870923] [29 :block/parents 26 536870923] [29 :block/parents 28 536870923] [29 :block/string "?title:uid" 536870920] [29 :block/uid "67WxtZJvF" 536870920] [29 :create/email "foo@gmail.com" 536870920] [29 :create/time 1611403320983 536870920] [29 :edit/email "imagine@gmail.com" 536870920] [29 :edit/time 1611595285863 536870920] [30 :block/children 31 536870920] [30 :block/open false 536870920] [30 :block/order 2 536870920] [30 :block/page 7 536870923] [30 :block/parents 7 536870923] [30 :block/parents 8 536870923] [30 :block/parents 19 536870923] [30 :block/parents 21 536870923] [30 :block/string "I convert dates to **Daily Notes** links." 536870920] [30 :block/uid "QsUyjJ330" 536870920] [30 :create/email "foo@gmail.com" 536870920] [30 :create/time 1611403160533 536870920] [30 :edit/email "imagine@gmail.com" 536870920] [30 :edit/time 1611595285864 536870920] [31 :block/children 32 536870920] [31 :block/open false 536870920] [31 :block/order 0 536870920] [31 :block/page 7 536870923] [31 :block/parents 7 536870923] [31 :block/parents 8 536870923] [31 :block/parents 19 536870923] [31 :block/parents 21 536870923] [31 :block/parents 30 536870923] [31 :block/string "Designate a field to be converted by adding :date to it" 536870920] [31 :block/uid "Xvsl1TN_1" 536870920] [31 :create/email "foo@gmail.com" 536870920] [31 :create/time 1611403337424 536870920] [31 :edit/email "imagine@gmail.com" 536870920] [31 :edit/time 1611595285864 536870920] [32 :block/open true 536870920] [32 :block/order 0 536870920] [32 :block/page 7 536870923] [32 :block/parents 7 536870923] [32 :block/parents 8 536870923] [32 :block/parents 19 536870923] [32 :block/parents 21 536870923] [32 :block/parents 30 536870923] [32 :block/parents 31 536870923] [32 :block/string "?edit:date or ?create:date" 536870920] [32 :block/uid "i9osh02dj" 536870920] [32 :create/email "foo@gmail.com" 536870920] [32 :create/time 1611403367722 536870920] [32 :edit/email "imagine@gmail.com" 536870920] [32 :edit/time 1611595285864 536870920] [33 :block/children 34 536870920] [33 :block/children 35 536870920] [33 :block/open false 536870920] [33 :block/order 2 536870920] [33 :block/page 7 536870923] [33 :block/parents 7 536870923] [33 :block/parents 8 536870923] [33 :block/parents 19 536870923] [33 :block/string "Displaying nested results as a table in the table in the table..." 536870920] [33 :block/uid "vEkWRQxz6" 536870920] [33 :create/email "foo@gmail.com" 536870920] [33 :create/time 1611403617951 536870920] [33 :edit/email "imagine@gmail.com" 536870920] [33 :edit/time 1611595285864 536870920] [34 :block/open true 536870920] [34 :block/order 0 536870920] [34 :block/page 7 536870923] [34 :block/parents 7 536870923] [34 :block/parents 8 536870923] [34 :block/parents 19 536870923] [34 :block/parents 33 536870923] [34 :block/string "When executing a query that includes a (pull ) statement the result will be a tree, not a table. Technically speaking the result is a JSON data structure." 536870920] [34 :block/uid "aRadf-vaF" 536870920] [34 :create/email "foo@gmail.com" 536870920] [34 :create/time 1611403626735 536870920] [34 :edit/email "imagine@gmail.com" 536870920] [34 :edit/time 1611595285864 536870920] [35 :block/children 36 536870920] [35 :block/children 37 536870920] [35 :block/children 38 536870920] [35 :block/open false 536870920] [35 :block/order 1 536870920] [35 :block/page 7 536870923] [35 :block/parents 7 536870923] [35 :block/parents 8 536870923] [35 :block/parents 19 536870923] [35 :block/parents 33 536870923] [35 :block/string "I render query results according to the following logic" 536870920] [35 :block/uid "hGqG8skLZ" 536870920] [35 :create/email "foo@gmail.com" 536870920] [35 :create/time 1611403649987 536870920] [35 :edit/email "imagine@gmail.com" 536870920] [35 :edit/time 1611595285864 536870920] [36 :block/open true 536870920] [36 :block/order 0 536870920] [36 :block/page 7 536870923] [36 :block/parents 7 536870923] [36 :block/parents 8 536870923] [36 :block/parents 19 536870923] [36 :block/parents 33 536870923] [36 :block/parents 35 536870923] [36 :block/string "The top level of the result-set is displayed as rows of a table, with values as the columns." 536870920] [36 :block/uid "Vnc1St5E_" 536870920] [36 :create/email "foo@gmail.com" 536870920] [36 :create/time 1611403684538 536870920] [36 :edit/email "imagine@gmail.com" 536870920] [36 :edit/time 1611595285864 536870920] [37 :block/open true 536870920] [37 :block/order 1 536870920] [37 :block/page 7 536870923] [37 :block/parents 7 536870923] [37 :block/parents 8 536870923] [37 :block/parents 19 536870923] [37 :block/parents 33 536870923] [37 :block/parents 35 536870923] [37 :block/string "Nested levels in the result-set alternate between being rendered in columns or rows." 536870920] [37 :block/uid "NohmtTuVQ" 536870920] [37 :create/email "foo@gmail.com" 536870920] [37 :create/time 1611403707174 536870920] [37 :edit/email "imagine@gmail.com" 536870920] [37 :edit/time 1611595285864 536870920] [38 :block/open true 536870920] [38 :block/order 2 536870920] [38 :block/page 7 536870923] [38 :block/parents 7 536870923] [38 :block/parents 8 536870923] [38 :block/parents 19 536870923] [38 :block/parents 33 536870923] [38 :block/parents 35 536870923] [38 :block/string "At nested levels I use MAXROWS/4 to limit the number of rows to display. Even with this the final result set could reach thousands of rows." 536870920] [38 :block/uid "I1TAWDK4k" 536870920] [38 :create/email "foo@gmail.com" 536870920] [38 :create/time 1611403911791 536870920] [38 :edit/email "imagine@gmail.com" 536870920] [38 :edit/time 1611595285864 536870920] [39 :block/open true 536870920] [39 :block/order 6 536870920] [39 :block/page 7 536870923] [39 :block/parents 7 536870923] [39 :block/parents 8 536870923] [39 :block/string "MAXROWS is set to 40 by default. In the advanced-query you can change this number." 536870920] [39 :block/uid "DPPLRsxKg" 536870920] [39 :create/email "foo@gmail.com" 536870920] [39 :create/time 1611003406320 536870920] [39 :edit/email "imagine@gmail.com" 536870920] [39 :edit/time 1611595285865 536870920] [40 :block/open true 536870920] [40 :block/order 7 536870920] [40 :block/page 7 536870923] [40 :block/parents 7 536870923] [40 :block/parents 8 536870923] [40 :block/string "Execute your query by pressing the button **nested** under the query." 536870920] [40 :block/uid "LJ62Pl6Q1" 536870920] [40 :create/email "foo@gmail.com" 536870920] [40 :create/time 1611003478226 536870920] [40 :edit/email "imagine@gmail.com" 536870920] [40 :edit/time 1611595285865 536870920] [41 :block/open true 536870920] [41 :block/order 8 536870920] [41 :block/page 7 536870923] [41 :block/parents 7 536870923] [41 :block/parents 8 536870923] [41 :block/string "If you find this helpful **🙏 say thanks** on Twitter [@zsviczian](https://twitter.com/zsviczian). If you like it even more, [☕ Buy me a Coffee](https://ko-fi.com/zsolt) as a show of your appreciation." 536870920] [41 :block/uid "Y8iE6fExF" 536870920] [41 :create/email "foo@gmail.com" 536870920] [41 :create/time 1611472314374 536870920] [41 :edit/email "imagine@gmail.com" 536870920] [41 :edit/time 1611595285865 536870920] [42 :block/children 43 536870920] [42 :block/children 72 536870920] [42 :block/children 83 536870920] [42 :block/children 87 536870920] [42 :block/children 94 536870920] [42 :block/children 107 536870920] [42 :block/heading 1 536870920] [42 :block/open false 536870920] [42 :block/order 1 536870920] [42 :block/page 7 536870924] [42 :block/parents 7 536870924] [42 :block/string "Examples" 536870920] [42 :block/uid "1NeB5cfJ3" 536870920] [42 :create/email "foo@gmail.com" 536870920] [42 :create/time 1611472535755 536870920] [42 :edit/email "imagine@gmail.com" 536870920] [42 :edit/seen-by 3 536870946] [42 :edit/time 1611595285871 536870920] [43 :block/children 44 536870920] [43 :block/children 47 536870920] [43 :block/children 50 536870920] [43 :block/children 59 536870920] [43 :block/children 62 536870920] [43 :block/children 67 536870920] [43 :block/heading 1 536870920] [43 :block/open false 536870920] [43 :block/order 0 536870920] [43 :block/page 7 536870924] [43 :block/parents 7 536870924] [43 :block/parents 42 536870924] [43 :block/string "Graph statistics" 536870920] [43 :block/uid "ccrt4ed7Z" 536870920] [43 :create/email "foo@gmail.com" 536870920] [43 :create/time 1611411840466 536870920] [43 :edit/email "imagine@gmail.com" 536870920] [43 :edit/time 1611595285869 536870920] [44 :block/children 45 536870920] [44 :block/heading 2 536870920] [44 :block/open false 536870920] [44 :block/order 0 536870920] [44 :block/page 7 536870924] [44 :block/parents 7 536870924] [44 :block/parents 42 536870924] [44 :block/parents 43 536870924] [44 :block/string "How many pages do I have in my graph?" 536870920] [44 :block/uid "eFN8etWlI" 536870920] [44 :create/email "foo@gmail.com" 536870920] [44 :create/time 1611411931188 536870920] [44 :edit/email "imagine@gmail.com" 536870920] [44 :edit/time 1611595285865 536870920] [45 :block/children 46 536870920] [45 :block/open false 536870920] [45 :block/order 0 536870920] [45 :block/page 7 536870924] [45 :block/parents 7 536870924] [45 :block/parents 42 536870924] [45 :block/parents 43 536870924] [45 :block/parents 44 536870924] [45 :block/string "```clojure\n[:find (count ?title)\n :where [_ :node/title ?title]]```" 536870920] [45 :block/uid "aq5u9Nc8Z" 536870920] [45 :create/email "foo@gmail.com" 536870920] [45 :create/time 1611411852140 536870920] [45 :edit/email "imagine@gmail.com" 536870920] [45 :edit/time 1611595285865 536870920] [46 :block/open true 536870920] [46 :block/order 0 536870920] [46 :block/page 7 536870924] [46 :block/parents 7 536870924] [46 :block/parents 42 536870924] [46 :block/parents 43 536870924] [46 :block/parents 44 536870924] [46 :block/parents 45 536870924] [46 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [46 :block/uid "bkp3R2QSb" 536870920] [46 :create/email "foo@gmail.com" 536870920] [46 :create/time 1611411858415 536870920] [46 :edit/email "imagine@gmail.com" 536870920] [46 :edit/time 1611595285865 536870920] [47 :block/children 48 536870920] [47 :block/heading 2 536870920] [47 :block/open false 536870920] [47 :block/order 1 536870920] [47 :block/page 7 536870924] [47 :block/parents 7 536870924] [47 :block/parents 42 536870924] [47 :block/parents 43 536870924] [47 :block/string "How many paragraphs do I have?" 536870920] [47 :block/uid "Fr95gEjvM" 536870920] [47 :create/email "foo@gmail.com" 536870920] [47 :create/time 1611411949714 536870920] [47 :edit/email "imagine@gmail.com" 536870920] [47 :edit/time 1611595285866 536870920] [48 :block/children 49 536870920] [48 :block/open false 536870920] [48 :block/order 0 536870920] [48 :block/page 7 536870924] [48 :block/parents 7 536870924] [48 :block/parents 42 536870924] [48 :block/parents 43 536870924] [48 :block/parents 47 536870924] [48 :block/string "```clojure\n[:find (count ?string) \n :where [_ :block/string ?string]]```" 536870920] [48 :block/uid "azwRapNII" 536870920] [48 :create/email "foo@gmail.com" 536870920] [48 :create/time 1611411962306 536870920] [48 :edit/email "imagine@gmail.com" 536870920] [48 :edit/time 1611595285865 536870920] [49 :block/open true 536870920] [49 :block/order 0 536870920] [49 :block/page 7 536870924] [49 :block/parents 7 536870924] [49 :block/parents 42 536870924] [49 :block/parents 43 536870924] [49 :block/parents 47 536870924] [49 :block/parents 48 536870924] [49 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [49 :block/uid "QOOoJAJBE" 536870920] [49 :create/email "foo@gmail.com" 536870920] [49 :create/time 1611411987528 536870920] [49 :edit/email "imagine@gmail.com" 536870920] [49 :edit/time 1611595285865 536870920] [50 :block/children 51 536870920] [50 :block/children 54 536870920] [50 :block/heading 2 536870920] [50 :block/open false 536870920] [50 :block/order 2 536870920] [50 :block/page 7 536870924] [50 :block/parents 7 536870924] [50 :block/parents 42 536870924] [50 :block/parents 43 536870924] [50 :block/string "How many paragraphs do I have that are not code blocks?" 536870920] [50 :block/uid "YthhlXrji" 536870920] [50 :create/email "foo@gmail.com" 536870920] [50 :create/time 1611412059491 536870920] [50 :edit/email "imagine@gmail.com" 536870920] [50 :edit/time 1611595285866 536870920] [51 :block/children 52 536870920] [51 :block/heading 3 536870920] [51 :block/open false 536870920] [51 :block/order 0 536870920] [51 :block/page 7 536870924] [51 :block/parents 7 536870924] [51 :block/parents 42 536870924] [51 :block/parents 43 536870924] [51 :block/parents 50 536870924] [51 :block/string "Solution using the advanced-template, this solutions is fast" 536870920] [51 :block/uid "mhhJQsksZ" 536870920] [51 :create/email "foo@gmail.com" 536870920] [51 :create/time 1611415002582 536870920] [51 :edit/email "imagine@gmail.com" 536870920] [51 :edit/time 1611595285866 536870920] [52 :block/children 53 536870920] [52 :block/open false 536870920] [52 :block/order 0 536870920] [52 :block/page 7 536870924] [52 :block/parents 7 536870924] [52 :block/parents 42 536870924] [52 :block/parents 43 536870924] [52 :block/parents 50 536870924] [52 :block/parents 51 536870924] [52 :block/string "```javascript\nlet q = `[:find (distinct ?b) \n\t\t  :where [?b :block/string ?string] \n                 [(clojure.string/includes? ?string \"\\`\\`\\`\")]]'`;\nlet exclude = window.roamAlphaAPI.q(q);\n\nlet query = `[:find (count ?string)\n\t\t\t\t:in $ ?exclude\n\t\t\t\t:where [?b :block/string ?string]\n\t\t\t\t\t   [(!= ?b ?exclude)]]`;\n\nlet results = window.roamAlphaAPI.q(query,exclude);\n\nreturn [query, results];```" 536870920] [52 :block/uid "rdpY5Z0nQ" 536870920] [52 :create/email "foo@gmail.com" 536870920] [52 :create/time 1611415261353 536870920] [52 :edit/email "imagine@gmail.com" 536870920] [52 :edit/time 1611595285866 536870920] [53 :block/open true 536870920] [53 :block/order 0 536870920] [53 :block/page 7 536870924] [53 :block/parents 7 536870924] [53 :block/parents 42 536870924] [53 :block/parents 43 536870924] [53 :block/parents 50 536870924] [53 :block/parents 51 536870924] [53 :block/parents 52 536870924] [53 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [53 :block/uid "Jsw_Umf9c" 536870920] [53 :create/email "foo@gmail.com" 536870920] [53 :create/time 1611415261353 536870920] [53 :edit/email "imagine@gmail.com" 536870920] [53 :edit/time 1611595285866 536870920] [54 :block/children 55 536870920] [54 :block/children 56 536870920] [54 :block/children 57 536870920] [54 :block/heading 3 536870920] [54 :block/open false 536870920] [54 :block/order 1 536870920] [54 :block/page 7 536870924] [54 :block/parents 7 536870924] [54 :block/parents 42 536870924] [54 :block/parents 43 536870924] [54 :block/parents 50 536870924] [54 :block/string "Solution using the simple-template, this solution will run very slow" 536870920] [54 :block/uid "6uzLWYJrz" 536870920] [54 :create/email "foo@gmail.com" 536870920] [54 :create/time 1611415147684 536870920] [54 :edit/email "imagine@gmail.com" 536870920] [54 :edit/time 1611595285866 536870920] [55 :block/open true 536870920] [55 :block/order 0 536870920] [55 :block/page 7 536870924] [55 :block/parents 7 536870924] [55 :block/parents 42 536870924] [55 :block/parents 43 536870924] [55 :block/parents 50 536870924] [55 :block/parents 54 536870924] [55 :block/string "**Depending on the size of your graph and the power of your PC, this query may run into a browser timeout!**" 536870920] [55 :block/uid "NZ-GdYfRg" 536870920] [55 :create/email "foo@gmail.com" 536870920] [55 :create/time 1611415178267 536870920] [55 :edit/email "imagine@gmail.com" 536870920] [55 :edit/time 1611595285866 536870920] [56 :block/open true 536870920] [56 :block/order 1 536870920] [56 :block/page 7 536870924] [56 :block/parents 7 536870924] [56 :block/parents 42 536870924] [56 :block/parents 43 536870924] [56 :block/parents 50 536870924] [56 :block/parents 54 536870924] [56 :block/string "Note: the funny business with the + sign below is only required because I am filtering out code blocks based on the 3x`, but the same is used to create a code block that contains the query. If I would repeat that in the code, it would close the code block I am using below prematurely. " 536870920] [56 :block/uid "y5SGyRFLA" 536870920] [56 :create/email "foo@gmail.com" 536870920] [56 :create/time 1611412898121 536870920] [56 :edit/email "imagine@gmail.com" 536870920] [56 :edit/time 1611595285866 536870920] [57 :block/children 58 536870920] [57 :block/open false 536870920] [57 :block/order 2 536870920] [57 :block/page 7 536870924] [57 :block/parents 7 536870924] [57 :block/parents 42 536870924] [57 :block/parents 43 536870924] [57 :block/parents 50 536870924] [57 :block/parents 54 536870924] [57 :block/string "```clojure\n[:find (count ?s2)\n :where [?b :block/string ?string]\n        [(clojure.string/includes? ?string \"``\"+\"`\")]\n \t\t[?b2 :block/string ?s2]\n \t\t[(!= ?b2 ?b)]]```" 536870920] [57 :block/uid "s6qIJCnnl" 536870920] [57 :create/email "foo@gmail.com" 536870920] [57 :create/time 1611415165563 536870920] [57 :edit/email "imagine@gmail.com" 536870920] [57 :edit/time 1611595285866 536870920] [58 :block/open true 536870920] [58 :block/order 0 536870920] [58 :block/page 7 536870924] [58 :block/parents 7 536870924] [58 :block/parents 42 536870924] [58 :block/parents 43 536870924] [58 :block/parents 50 536870924] [58 :block/parents 54 536870924] [58 :block/parents 57 536870924] [58 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [58 :block/uid "TEpPwIpYp" 536870920] [58 :create/email "foo@gmail.com" 536870920] [58 :create/time 1611414556699 536870920] [58 :edit/email "imagine@gmail.com" 536870920] [58 :edit/time 1611595285866 536870920] [59 :block/children 60 536870920] [59 :block/heading 2 536870920] [59 :block/open false 536870920] [59 :block/order 3 536870920] [59 :block/page 7 536870924] [59 :block/parents 7 536870924] [59 :block/parents 42 536870924] [59 :block/parents 43 536870924] [59 :block/string "Which are my longest paragraphs that are not code blocks; and on which page do I find them?" 536870920] [59 :block/uid "wG_XDMjvC" 536870920] [59 :create/email "foo@gmail.com" 536870920] [59 :create/time 1611415226310 536870920] [59 :edit/email "imagine@gmail.com" 536870920] [59 :edit/time 1611595285866 536870920] [60 :block/children 61 536870920] [60 :block/open false 536870920] [60 :block/order 0 536870920] [60 :block/page 7 536870924] [60 :block/parents 7 536870924] [60 :block/parents 42 536870924] [60 :block/parents 43 536870924] [60 :block/parents 59 536870924] [60 :block/string "```javascript\nlet q = `[:find (distinct ?uid)\n\t\t  :where [?b :block/string ?string] \n\t\t\t\t [?b :block/uid ?uid]\n                 [(clojure.string/includes? ?string \"\\`\\`\\`\")]]'`;\nlet exclude = window.roamAlphaAPI.q(q);\n\nlet query = `[:find ?title:name ?title:uid ?block_uid ?size\n\t\t\t\t:where [?b :block/string ?string]\n\t\t\t\t\t   [?b :block/uid ?block_uid]\n\t\t\t\t\t   [?b :block/page ?p]\n\t\t\t\t\t   [?p :node/title ?title:name]\n\t\t\t\t\t   [?p :block/uid ?title:uid]\n\t\t\t\t\t   [(count ?string) ?size]]`;\n\nvar results = window.roamAlphaAPI.q(query).filter((item,index) => !exclude[0][0].includes(item[2]))\n\t\t\t\t\t\t\t\t\t\t  .sort((a,b) => b[3]-a[3]);\nreturn [query, results];```" 536870920] [60 :block/uid "AoUWVwE8a" 536870920] [60 :create/email "foo@gmail.com" 536870920] [60 :create/time 1611413318715 536870920] [60 :edit/email "imagine@gmail.com" 536870920] [60 :edit/time 1611595285866 536870920] [61 :block/open true 536870920] [61 :block/order 0 536870920] [61 :block/page 7 536870924] [61 :block/parents 7 536870924] [61 :block/parents 42 536870924] [61 :block/parents 43 536870924] [61 :block/parents 59 536870924] [61 :block/parents 60 536870924] [61 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [61 :block/uid "kD1dhtIVP" 536870920] [61 :create/email "foo@gmail.com" 536870920] [61 :create/time 1611413322474 536870920] [61 :edit/email "imagine@gmail.com" 536870920] [61 :edit/time 1611595285866 536870920] [62 :block/children 63 536870920] [62 :block/children 64 536870920] [62 :block/children 65 536870920] [62 :block/heading 2 536870920] [62 :block/open false 536870920] [62 :block/order 4 536870920] [62 :block/page 7 536870924] [62 :block/parents 7 536870924] [62 :block/parents 42 536870924] [62 :block/parents 43 536870924] [62 :block/string "All blocks with at least 100 descendants" 536870920] [62 :block/uid "EW5ACg0p9" 536870920] [62 :create/email "foo@gmail.com" 536870920] [62 :create/time 1611328752984 536870920] [62 :edit/email "imagine@gmail.com" 536870920] [62 :edit/time 1611595285868 536870920] [63 :block/open true 536870920] [63 :block/order 0 536870920] [63 :block/page 7 536870924] [63 :block/parents 7 536870924] [63 :block/parents 42 536870924] [63 :block/parents 43 536870924] [63 :block/parents 62 536870924] [63 :block/string "Based on David Bieber's [work](https://davidbieber.com/snippets/2020-12-22-datalog-queries-for-roam-research/)" 536870920] [63 :block/uid "LJNmlZOPr" 536870920] [63 :create/email "foo@gmail.com" 536870920] [63 :create/time 1611412348099 536870920] [63 :edit/email "imagine@gmail.com" 536870920] [63 :edit/time 1611595285868 536870920] [64 :block/open true 536870920] [64 :block/order 1 536870920] [64 :block/page 7 536870924] [64 :block/parents 7 536870924] [64 :block/parents 42 536870924] [64 :block/parents 43 536870924] [64 :block/parents 62 536870924] [64 :block/string "Excluding \"roam/css\"" 536870920] [64 :block/uid "Z4LvuX4tO" 536870920] [64 :create/email "foo@gmail.com" 536870920] [64 :create/time 1611405745267 536870920] [64 :edit/email "imagine@gmail.com" 536870920] [64 :edit/time 1611595285868 536870920] [65 :block/children 66 536870920] [65 :block/open false 536870920] [65 :block/order 2 536870920] [65 :block/page 7 536870924] [65 :block/parents 7 536870924] [65 :block/parents 42 536870924] [65 :block/parents 43 536870924] [65 :block/parents 62 536870924] [65 :block/string "```javascript\nlet threshold = 100;\nlet rule =`[[(ancestor ?child ?parent) \n            [?parent :block/children ?child]]\n            [(ancestor ?child ?grand_parent) \n            [?parent :block/children ?child] \n            (ancestor ?parent ?grand_parent)]]\n           ]`;\n\nlet large_blocks = window.roamAlphaAPI.q(`\n\t\t[:find ?ancestor (count ?block)\n  \t \t:in $ % \n  \t \t:where [?ancestor :block/string]\n    \t\t\t[?block :block/string]\n    \t\t\t(ancestor ?block ?ancestor)]`,rule)\n     .filter((data, index) => {return data[1] >= threshold});\n\nlet query = `[:find ?title:name ?title:uid ?text ?uid ?childcount\n  \t\t\t  :in $ [[?block ?childcount] ...] [?exclude ...]\n  \t\t\t  :where [?block :block/string ?text]\n  \t\t\t\t\t [?block :block/uid ?uid]\n\t\t\t\t\t [?block :block/page ?page]\n\t\t\t\t\t [?page  :node/title ?title:name]\n\t\t\t\t\t [?page  :block/uid  ?title:uid]\n\t\t\t\t\t [(not= ?title:name ?exclude)]]`;\n\nlet results = window.roamAlphaAPI.q(query,large_blocks,[\"roam/css\"]).sort((a, b) => b[4] - a[4]);\n\nreturn [query, results];```" 536870920] [65 :block/uid "jrheE0qIF" 536870920] [65 :create/email "foo@gmail.com" 536870920] [65 :create/time 1611328952670 536870920] [65 :edit/email "imagine@gmail.com" 536870920] [65 :edit/time 1611595285868 536870920] [66 :block/open true 536870920] [66 :block/order 0 536870920] [66 :block/page 7 536870924] [66 :block/parents 7 536870924] [66 :block/parents 42 536870924] [66 :block/parents 43 536870924] [66 :block/parents 62 536870924] [66 :block/parents 65 536870924] [66 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [66 :block/uid "H8wA-YWV1" 536870920] [66 :create/email "foo@gmail.com" 536870920] [66 :create/time 1611328959168 536870920] [66 :edit/email "imagine@gmail.com" 536870920] [66 :edit/time 1611595285868 536870920] [67 :block/children 68 536870920] [67 :block/children 69 536870920] [67 :block/children 70 536870920] [67 :block/heading 2 536870920] [67 :block/open false 536870920] [67 :block/order 5 536870920] [67 :block/page 7 536870924] [67 :block/parents 7 536870924] [67 :block/parents 42 536870924] [67 :block/parents 43 536870924] [67 :block/string "Pages with the highest number of blocks" 536870920] [67 :block/uid "Csu2EAIRr" 536870920] [67 :create/email "foo@gmail.com" 536870920] [67 :create/time 1611348519912 536870920] [67 :edit/email "imagine@gmail.com" 536870920] [67 :edit/time 1611595285869 536870920] [68 :block/open true 536870920] [68 :block/order 0 536870920] [68 :block/page 7 536870924] [68 :block/parents 7 536870924] [68 :block/parents 42 536870924] [68 :block/parents 43 536870924] [68 :block/parents 67 536870924] [68 :block/string "Based on David Bieber's [work](https://davidbieber.com/snippets/2020-12-22-datalog-queries-for-roam-research/)" 536870920] [68 :block/uid "ORsW26j64" 536870920] [68 :create/email "foo@gmail.com" 536870920] [68 :create/time 1611412354259 536870920] [68 :edit/email "imagine@gmail.com" 536870920] [68 :edit/time 1611595285868 536870920] [69 :block/open true 536870920] [69 :block/order 1 536870920] [69 :block/page 7 536870924] [69 :block/parents 7 536870924] [69 :block/parents 42 536870924] [69 :block/parents 43 536870924] [69 :block/parents 67 536870924] [69 :block/string "Excluding \"roam/css\" and \"roam/js\"" 536870920] [69 :block/uid "IqiqOEpPq" 536870920] [69 :create/email "foo@gmail.com" 536870920] [69 :create/time 1611405784520 536870920] [69 :edit/email "imagine@gmail.com" 536870920] [69 :edit/time 1611595285868 536870920] [70 :block/children 71 536870920] [70 :block/open false 536870920] [70 :block/order 2 536870920] [70 :block/page 7 536870924] [70 :block/parents 7 536870924] [70 :block/parents 42 536870924] [70 :block/parents 43 536870924] [70 :block/parents 67 536870924] [70 :block/string "```javascript\nlet query = `[:find ?title:name ?title:uid (count ?blocks)\n\t\t\t\t:in $ [?exclude]\n\t\t\t\t:where [?page :node/title ?title:name]\n\t\t\t\t\t   [?page :block/uid ?title:uid]\n\t\t\t\t\t   [?blocks :block/page ?page]\n\t\t\t\t\t   [(not= ?title:name ?exclude)]]`;\n\nlet results = window.roamAlphaAPI.q(query,['roam/css','roam/js']).sort((a, b) => b[2] - a[2]);\n\nreturn [query, results];```" 536870920] [70 :block/uid "Qxsva0hm6" 536870920] [70 :create/email "foo@gmail.com" 536870920] [70 :create/time 1611348531345 536870920] [70 :edit/email "imagine@gmail.com" 536870920] [70 :edit/time 1611595285869 536870920] [71 :block/open true 536870920] [71 :block/order 0 536870920] [71 :block/page 7 536870924] [71 :block/parents 7 536870924] [71 :block/parents 42 536870924] [71 :block/parents 43 536870924] [71 :block/parents 67 536870924] [71 :block/parents 70 536870924] [71 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}   " 536870920] [71 :block/uid "0MXfkmvMr" 536870920] [71 :create/email "foo@gmail.com" 536870920] [71 :create/time 1611348559847 536870920] [71 :edit/email "imagine@gmail.com" 536870920] [71 :edit/time 1611595285869 536870920] [72 :block/children 73 536870920] [72 :block/children 76 536870920] [72 :block/heading 1 536870920] [72 :block/open false 536870920] [72 :block/order 1 536870920] [72 :block/page 7 536870924] [72 :block/parents 7 536870924] [72 :block/parents 42 536870924] [72 :block/string "String search" 536870920] [72 :block/uid "XaXjMPouS" 536870920] [72 :create/email "foo@gmail.com" 536870920] [72 :create/time 1611472560414 536870920] [72 :edit/email "imagine@gmail.com" 536870920] [72 :edit/time 1611595285869 536870920] [73 :block/children 74 536870920] [73 :block/heading 2 536870920] [73 :block/open false 536870920] [73 :block/order 0 536870920] [73 :block/page 7 536870924] [73 :block/parents 7 536870924] [73 :block/parents 42 536870924] [73 :block/parents 72 536870924] [73 :block/string "List pages within the \"roam/\" namespace" 536870920] [73 :block/uid "Y2TqjSyhs" 536870920] [73 :create/email "foo@gmail.com" 536870920] [73 :create/time 1611003484883 536870920] [73 :edit/email "imagine@gmail.com" 536870920] [73 :edit/time 1611595285869 536870920] [74 :block/children 75 536870920] [74 :block/open false 536870920] [74 :block/order 0 536870920] [74 :block/page 7 536870924] [74 :block/parents 7 536870924] [74 :block/parents 42 536870924] [74 :block/parents 72 536870924] [74 :block/parents 73 536870924] [74 :block/string "```clojure\n[:find ?title:name ?title:uid ?time:date\n :where [?page :node/title ?title:name]\n        [?page :block/uid ?title:uid]\n        [?page :edit/time ?time:date]\n        [(clojure.string/starts-with? ?title:name \"roam/\")]]```" 536870920] [74 :block/uid "gPm64zIX3" 536870920] [74 :create/email "foo@gmail.com" 536870920] [74 :create/time 1611003062472 536870920] [74 :edit/email "imagine@gmail.com" 536870920] [74 :edit/time 1611595285869 536870920] [75 :block/open true 536870920] [75 :block/order 0 536870920] [75 :block/page 7 536870924] [75 :block/parents 7 536870924] [75 :block/parents 42 536870924] [75 :block/parents 72 536870924] [75 :block/parents 73 536870924] [75 :block/parents 74 536870924] [75 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [75 :block/uid "I3ufWoilZ" 536870920] [75 :create/email "foo@gmail.com" 536870920] [75 :create/time 1611252913869 536870920] [75 :edit/email "imagine@gmail.com" 536870920] [75 :edit/time 1611595285869 536870920] [76 :block/children 77 536870920] [76 :block/children 80 536870920] [76 :block/heading 2 536870920] [76 :block/open false 536870920] [76 :block/order 1 536870920] [76 :block/page 7 536870924] [76 :block/parents 7 536870924] [76 :block/parents 42 536870924] [76 :block/parents 72 536870924] [76 :block/string "List pages containing \"temp\"" 536870920] [76 :block/uid "D57NkgAIs" 536870920] [76 :create/email "foo@gmail.com" 536870920] [76 :create/time 1611254211684 536870920] [76 :edit/email "imagine@gmail.com" 536870920] [76 :edit/time 1611595285869 536870920] [77 :block/children 78 536870920] [77 :block/heading 3 536870920] [77 :block/open false 536870920] [77 :block/order 0 536870920] [77 :block/page 7 536870924] [77 :block/parents 7 536870924] [77 :block/parents 42 536870924] [77 :block/parents 72 536870924] [77 :block/parents 76 536870924] [77 :block/string "Simple, but case sensitive solution" 536870920] [77 :block/uid "GXlWdYta9" 536870920] [77 :create/email "foo@gmail.com" 536870920] [77 :create/time 1611422262747 536870920] [77 :edit/email "imagine@gmail.com" 536870920] [77 :edit/time 1611595285869 536870920] [78 :block/children 79 536870920] [78 :block/open false 536870920] [78 :block/order 0 536870920] [78 :block/page 7 536870924] [78 :block/parents 7 536870924] [78 :block/parents 42 536870924] [78 :block/parents 72 536870924] [78 :block/parents 76 536870924] [78 :block/parents 77 536870924] [78 :block/string "```clojure\n[:find ?title:name ?title:uid ?time:date\n :where [?page :node/title ?title:name]\n        [?page :block/uid ?title:uid]\n        [?page :edit/time ?time:date]\n        [(clojure.string/includes? ?title:name \"temp\")]]```" 536870920] [78 :block/uid "4edDGWUvW" 536870920] [78 :create/email "foo@gmail.com" 536870920] [78 :create/time 1611254235111 536870920] [78 :edit/email "imagine@gmail.com" 536870920] [78 :edit/time 1611595285869 536870920] [79 :block/open true 536870920] [79 :block/order 0 536870920] [79 :block/page 7 536870924] [79 :block/parents 7 536870924] [79 :block/parents 42 536870924] [79 :block/parents 72 536870924] [79 :block/parents 76 536870924] [79 :block/parents 77 536870924] [79 :block/parents 78 536870924] [79 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [79 :block/uid "cRC9rOlRM" 536870920] [79 :create/email "foo@gmail.com" 536870920] [79 :create/time 1611404234147 536870920] [79 :edit/email "imagine@gmail.com" 536870920] [79 :edit/time 1611595285869 536870920] [80 :block/children 81 536870920] [80 :block/heading 3 536870920] [80 :block/open false 536870920] [80 :block/order 1 536870920] [80 :block/page 7 536870924] [80 :block/parents 7 536870924] [80 :block/parents 42 536870924] [80 :block/parents 72 536870924] [80 :block/parents 76 536870924] [80 :block/string "Advanced, case insensitive solution" 536870920] [80 :block/uid "UTAlwRRFJ" 536870920] [80 :create/email "foo@gmail.com" 536870920] [80 :create/time 1611422254966 536870920] [80 :edit/email "imagine@gmail.com" 536870920] [80 :edit/time 1611595285869 536870920] [81 :block/children 82 536870920] [81 :block/open false 536870920] [81 :block/order 0 536870920] [81 :block/page 7 536870924] [81 :block/parents 7 536870924] [81 :block/parents 42 536870924] [81 :block/parents 72 536870924] [81 :block/parents 76 536870924] [81 :block/parents 80 536870924] [81 :block/string "```javascript\nlet fragment = 'temp';\nlet query = `[:find ?title:name ?title:uid ?time:date\n \t\t\t  :where [?page :node/title ?title:name]\n        \t\t\t [?page :block/uid ?title:uid]\n        \t\t\t [?page :edit/time ?time:date]]`;\n\nlet results = window.roamAlphaAPI.q(query)\n  .filter((item,index) => item[0].toLowerCase().indexOf(fragment) > 0)\n  .sort((a,b) => a[0].localeCompare(b[0]));\n\nreturn [query, results];```" 536870920] [81 :block/uid "OKQk8c_sn" 536870920] [81 :create/email "foo@gmail.com" 536870920] [81 :create/time 1611422291062 536870920] [81 :edit/email "imagine@gmail.com" 536870920] [81 :edit/time 1611595285869 536870920] [82 :block/open true 536870920] [82 :block/order 0 536870920] [82 :block/page 7 536870924] [82 :block/parents 7 536870924] [82 :block/parents 42 536870924] [82 :block/parents 72 536870924] [82 :block/parents 76 536870924] [82 :block/parents 80 536870924] [82 :block/parents 81 536870924] [82 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [82 :block/uid "qCBrX1Edd" 536870920] [82 :create/email "foo@gmail.com" 536870920] [82 :create/time 1611422298196 536870920] [82 :edit/email "imagine@gmail.com" 536870920] [82 :edit/time 1611595285869 536870920] [83 :block/children 84 536870920] [83 :block/children 85 536870920] [83 :block/heading 1 536870920] [83 :block/open false 536870920] [83 :block/order 2 536870920] [83 :block/page 7 536870924] [83 :block/parents 7 536870924] [83 :block/parents 42 536870924] [83 :block/string "Pages modified today" 536870920] [83 :block/uid "EdzmeYsQU" 536870920] [83 :create/email "foo@gmail.com" 536870920] [83 :create/time 1611328029638 536870920] [83 :edit/email "imagine@gmail.com" 536870920] [83 :edit/time 1611595285870 536870920] [84 :block/open true 536870920] [84 :block/order 0 536870920] [84 :block/page 7 536870924] [84 :block/parents 7 536870924] [84 :block/parents 42 536870924] [84 :block/parents 83 536870924] [84 :block/string "Based on David Bieber's [work](https://davidbieber.com/snippets/2020-12-22-datalog-queries-for-roam-research/)" 536870920] [84 :block/uid "y10UZZFMH" 536870920] [84 :create/email "foo@gmail.com" 536870920] [84 :create/time 1611328683380 536870920] [84 :edit/email "imagine@gmail.com" 536870920] [84 :edit/time 1611595285870 536870920] [85 :block/children 86 536870920] [85 :block/open false 536870920] [85 :block/order 1 536870920] [85 :block/page 7 536870924] [85 :block/parents 7 536870924] [85 :block/parents 42 536870924] [85 :block/parents 83 536870924] [85 :block/string "```javascript\nlet rule = `[[ (ancestor ?b ?a) \n             [?a :block/children ?b]] \n             [ (ancestor ?b ?a) \n             [?parent :block/children ?b] \n             (ancestor ?parent ?a)]] \n\t\t    ]`;\n\nlet query = `[\n  :find ?page_title:name ?page_title:uid\n  :in $ ?start_of_day %\n  :where\n  [?page :node/title ?page_title:name]\n  [?page :block/uid ?page_title:uid]\n  (ancestor ?block ?page)\n  [?block :edit/time ?time]\n  [(> ?time ?start_of_day)]\n]`;\n\nlet results = window.roamAlphaAPI.q(query,new Date().setHours(0, 0, 0, 0),rule);\n\nreturn [query, results];```" 536870920] [85 :block/uid "uf73U4gkJ" 536870920] [85 :create/email "foo@gmail.com" 536870920] [85 :create/time 1611328039956 536870920] [85 :edit/email "imagine@gmail.com" 536870920] [85 :edit/time 1611595285870 536870920] [86 :block/open true 536870920] [86 :block/order 0 536870920] [86 :block/page 7 536870924] [86 :block/parents 7 536870924] [86 :block/parents 42 536870924] [86 :block/parents 83 536870924] [86 :block/parents 85 536870924] [86 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [86 :block/uid "jdreJJeFf" 536870920] [86 :create/email "foo@gmail.com" 536870920] [86 :create/time 1611328053578 536870920] [86 :edit/email "imagine@gmail.com" 536870920] [86 :edit/time 1611595285870 536870920] [87 :block/children 88 536870920] [87 :block/children 91 536870920] [87 :block/heading 1 536870920] [87 :block/open false 536870920] [87 :block/order 3 536870920] [87 :block/page 7 536870924] [87 :block/parents 7 536870924] [87 :block/parents 42 536870924] [87 :block/string "List top-level blocks on this page" 536870920] [87 :block/uid "UPsM3f-Z_" 536870920] [87 :create/email "foo@gmail.com" 536870920] [87 :create/time 1611003526196 536870920] [87 :edit/email "imagine@gmail.com" 536870920] [87 :edit/time 1611595285870 536870920] [88 :block/children 89 536870920] [88 :block/heading 2 536870920] [88 :block/open false 536870920] [88 :block/order 0 536870920] [88 :block/page 7 536870924] [88 :block/parents 7 536870924] [88 :block/parents 42 536870924] [88 :block/parents 87 536870924] [88 :block/string "Simple version" 536870920] [88 :block/uid "vPE_hwtEr" 536870920] [88 :create/email "foo@gmail.com" 536870920] [88 :create/time 1611404367463 536870920] [88 :edit/email "imagine@gmail.com" 536870920] [88 :edit/time 1611595285870 536870920] [89 :block/children 90 536870920] [89 :block/open false 536870920] [89 :block/order 0 536870920] [89 :block/page 7 536870924] [89 :block/parents 7 536870924] [89 :block/parents 42 536870924] [89 :block/parents 87 536870924] [89 :block/parents 88 536870924] [89 :block/string "```clojure\n[:find ?block_string\n :where\n [?p :node/title \"Datomic Query Examples\"]\n [?p :block/children ?c]\n [?c :block/string ?block_string]]```" 536870920] [89 :block/uid "AHf_8t0Fw" 536870920] [89 :create/email "foo@gmail.com" 536870920] [89 :create/time 1611003563824 536870920] [89 :edit/email "imagine@gmail.com" 536870920] [89 :edit/time 1611595285870 536870920] [90 :block/open true 536870920] [90 :block/order 0 536870920] [90 :block/page 7 536870924] [90 :block/parents 7 536870924] [90 :block/parents 42 536870924] [90 :block/parents 87 536870924] [90 :block/parents 88 536870924] [90 :block/parents 89 536870924] [90 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [90 :block/uid "lz9fb1Cn3" 536870920] [90 :create/email "foo@gmail.com" 536870920] [90 :create/time 1611404332321 536870920] [90 :edit/email "imagine@gmail.com" 536870920] [90 :edit/time 1611595285870 536870920] [91 :block/children 92 536870920] [91 :block/heading 2 536870920] [91 :block/open false 536870920] [91 :block/order 1 536870920] [91 :block/page 7 536870924] [91 :block/parents 7 536870924] [91 :block/parents 42 536870924] [91 :block/parents 87 536870924] [91 :block/string "Advanced version" 536870920] [91 :block/uid "h6Jp9ZxKB" 536870920] [91 :create/email "foo@gmail.com" 536870920] [91 :create/time 1611404383708 536870920] [91 :edit/email "imagine@gmail.com" 536870920] [91 :edit/time 1611595285870 536870920] [92 :block/children 93 536870920] [92 :block/open false 536870920] [92 :block/order 0 536870920] [92 :block/page 7 536870924] [92 :block/parents 7 536870924] [92 :block/parents 42 536870924] [92 :block/parents 87 536870924] [92 :block/parents 91 536870924] [92 :block/string "```javascript\nlet uid = document.querySelector(\"textarea.rm-block-input\").id;\nuid = uid.substring( uid.length -9);\n\nlet query = `[:find ?order ?block_string\n\t\t\t\t:in $ ?uid\n\t\t\t\t:where [?origin :block/uid ?uid]\n\t\t\t\t\t   [?origin :block/page ?page]\n\t\t\t\t\t   [?page :block/children ?children]\n\t\t\t\t\t   [?children :block/order ?order]\n\t\t\t\t\t   [?children :block/string ?block_string]]`;\n\nlet results = window.roamAlphaAPI.q(query,uid).sort((a,b) => a[0]-b[0]);\n\nreturn [query, results];```" 536870920] [92 :block/uid "6xr3sFjn0" 536870920] [92 :create/email "foo@gmail.com" 536870920] [92 :create/time 1611404389182 536870920] [92 :edit/email "imagine@gmail.com" 536870920] [92 :edit/time 1611595285870 536870920] [93 :block/open true 536870920] [93 :block/order 0 536870920] [93 :block/page 7 536870924] [93 :block/parents 7 536870924] [93 :block/parents 42 536870924] [93 :block/parents 87 536870924] [93 :block/parents 91 536870924] [93 :block/parents 92 536870924] [93 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [93 :block/uid "uNQo8oeSs" 536870920] [93 :create/email "foo@gmail.com" 536870920] [93 :create/time 1611404401542 536870920] [93 :edit/email "imagine@gmail.com" 536870920] [93 :edit/time 1611595285870 536870920] [94 :block/children 95 536870920] [94 :block/children 99 536870920] [94 :block/heading 1 536870920] [94 :block/open false 536870920] [94 :block/order 4 536870920] [94 :block/page 7 536870924] [94 :block/parents 7 536870924] [94 :block/parents 42 536870924] [94 :block/string "Understanding the Roam data structure" 536870920] [94 :block/uid "4IW6Mfa2P" 536870920] [94 :create/email "foo@gmail.com" 536870920] [94 :create/time 1611422669522 536870920] [94 :edit/email "imagine@gmail.com" 536870920] [94 :edit/time 1611595285871 536870920] [95 :block/children 96 536870920] [95 :block/children 97 536870920] [95 :block/heading 2 536870920] [95 :block/open false 536870920] [95 :block/order 0 536870920] [95 :block/page 7 536870924] [95 :block/parents 7 536870924] [95 :block/parents 42 536870924] [95 :block/parents 94 536870924] [95 :block/string "List attributes associated with :node/title" 536870920] [95 :block/uid "EK_uz6yPj" 536870920] [95 :create/email "foo@gmail.com" 536870920] [95 :create/time 1611004070989 536870920] [95 :edit/email "imagine@gmail.com" 536870920] [95 :edit/time 1611595285870 536870920] [96 :block/open true 536870920] [96 :block/order 0 536870920] [96 :block/page 7 536870924] [96 :block/parents 7 536870924] [96 :block/parents 42 536870924] [96 :block/parents 94 536870924] [96 :block/parents 95 536870924] [96 :block/string "I found the namespace predicate here: [clojure.core namespace | ClojureDocs - Community-Powered Clojure Documentation and Examples](https://clojuredocs.org/clojure.core)" 536870920] [96 :block/uid "0Hxct8w36" 536870920] [96 :create/email "foo@gmail.com" 536870920] [96 :create/time 1611406239835 536870920] [96 :edit/email "imagine@gmail.com" 536870920] [96 :edit/time 1611595285870 536870920] [97 :block/children 98 536870920] [97 :block/open false 536870920] [97 :block/order 1 536870920] [97 :block/page 7 536870924] [97 :block/parents 7 536870924] [97 :block/parents 42 536870924] [97 :block/parents 94 536870924] [97 :block/parents 95 536870924] [97 :block/string "```clojure\n[:find ?namespace ?attribute\n :where\n  [?a :node/title]\n  [?a ?attribute]\n  [(namespace ?attribute) ?namespace]]```" 536870920] [97 :block/uid "siIDPTpL_" 536870920] [97 :create/email "foo@gmail.com" 536870920] [97 :create/time 1611208092973 536870920] [97 :edit/email "imagine@gmail.com" 536870920] [97 :edit/time 1611595285870 536870920] [98 :block/open true 536870920] [98 :block/order 0 536870920] [98 :block/page 7 536870924] [98 :block/parents 7 536870924] [98 :block/parents 42 536870924] [98 :block/parents 94 536870924] [98 :block/parents 95 536870924] [98 :block/parents 97 536870924] [98 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [98 :block/uid "_gS_2GAiZ" 536870920] [98 :create/email "foo@gmail.com" 536870920] [98 :create/time 1611209250114 536870920] [98 :edit/email "imagine@gmail.com" 536870920] [98 :edit/time 1611595285870 536870920] [99 :block/children 100 536870920] [99 :block/children 103 536870920] [99 :block/heading 2 536870920] [99 :block/open false 536870920] [99 :block/order 1 536870920] [99 :block/page 7 536870924] [99 :block/parents 7 536870924] [99 :block/parents 42 536870924] [99 :block/parents 94 536870924] [99 :block/string "List all attributes and their namespace in Roam" 536870920] [99 :block/uid "vIu0EuR__" 536870920] [99 :create/email "foo@gmail.com" 536870920] [99 :create/time 1611405294951 536870920] [99 :edit/email "imagine@gmail.com" 536870920] [99 :edit/time 1611595285871 536870920] [100 :block/children 101 536870920] [100 :block/heading 3 536870920] [100 :block/open false 536870920] [100 :block/order 0 536870920] [100 :block/page 7 536870924] [100 :block/parents 7 536870924] [100 :block/parents 42 536870924] [100 :block/parents 94 536870924] [100 :block/parents 99 536870924] [100 :block/string "Simple version" 536870920] [100 :block/uid "xeyMpf6GT" 536870920] [100 :create/email "foo@gmail.com" 536870920] [100 :create/time 1611405357649 536870920] [100 :edit/email "imagine@gmail.com" 536870920] [100 :edit/time 1611595285870 536870920] [101 :block/children 102 536870920] [101 :block/open false 536870920] [101 :block/order 0 536870920] [101 :block/page 7 536870924] [101 :block/parents 7 536870924] [101 :block/parents 42 536870924] [101 :block/parents 94 536870924] [101 :block/parents 99 536870924] [101 :block/parents 100 536870924] [101 :block/string "```clojure\n  [:find ?Namespace ?Attribute\n   :where [_ ?Attribute]\n  [(namespace ?Attribute) ?Namespace]]```" 536870920] [101 :block/uid "DjddwZ9ti" 536870920] [101 :create/email "foo@gmail.com" 536870920] [101 :create/time 1611397201590 536870920] [101 :edit/email "imagine@gmail.com" 536870920] [101 :edit/time 1611595285870 536870920] [102 :block/open true 536870920] [102 :block/order 0 536870920] [102 :block/page 7 536870924] [102 :block/parents 7 536870924] [102 :block/parents 42 536870924] [102 :block/parents 94 536870924] [102 :block/parents 99 536870924] [102 :block/parents 100 536870924] [102 :block/parents 101 536870924] [102 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [102 :block/uid "B0u6iXx2z" 536870920] [102 :create/email "foo@gmail.com" 536870920] [102 :create/time 1611397866892 536870920] [102 :edit/email "imagine@gmail.com" 536870920] [102 :edit/time 1611595285870 536870920] [103 :block/children 104 536870920] [103 :block/children 105 536870920] [103 :block/heading 3 536870920] [103 :block/open false 536870920] [103 :block/order 1 536870920] [103 :block/page 7 536870924] [103 :block/parents 7 536870924] [103 :block/parents 42 536870924] [103 :block/parents 94 536870924] [103 :block/parents 99 536870924] [103 :block/string "Advanced version" 536870920] [103 :block/uid "k9B9QDkgd" 536870920] [103 :create/email "foo@gmail.com" 536870920] [103 :create/time 1611405366775 536870920] [103 :edit/email "imagine@gmail.com" 536870920] [103 :edit/time 1611595285871 536870920] [104 :block/open true 536870920] [104 :block/order 0 536870920] [104 :block/page 7 536870924] [104 :block/parents 7 536870924] [104 :block/parents 42 536870924] [104 :block/parents 94 536870924] [104 :block/parents 99 536870924] [104 :block/parents 103 536870924] [104 :block/string "Sort the results alphabetically first by Namespace, then by Attribute" 536870920] [104 :block/uid "XAfk1FbTt" 536870920] [104 :create/email "foo@gmail.com" 536870920] [104 :create/time 1611405488056 536870920] [104 :edit/email "imagine@gmail.com" 536870920] [104 :edit/time 1611595285871 536870920] [105 :block/children 106 536870920] [105 :block/open false 536870920] [105 :block/order 1 536870920] [105 :block/page 7 536870924] [105 :block/parents 7 536870924] [105 :block/parents 42 536870924] [105 :block/parents 94 536870924] [105 :block/parents 99 536870924] [105 :block/parents 103 536870924] [105 :block/string "```javascript\nlet query = `[:find ?Namespace ?Attribute\n\t\t\t  :where [_ ?Attribute]\n  \t\t\t\t\t [(namespace ?Attribute) ?Namespace]]`;\n\nlet results = window.roamAlphaAPI.q(query).sort((a, b) => (a[0].localeCompare(b[0])==0) ? a[1].localeCompare(b[1]) : a[0].localeCompare(b[0]));\n\nreturn [query, results];```" 536870920] [105 :block/uid "KdTM4XkxA" 536870920] [105 :create/email "foo@gmail.com" 536870920] [105 :create/time 1611395814884 536870920] [105 :edit/email "imagine@gmail.com" 536870920] [105 :edit/time 1611595285871 536870920] [106 :block/open true 536870920] [106 :block/order 0 536870920] [106 :block/page 7 536870924] [106 :block/parents 7 536870924] [106 :block/parents 42 536870924] [106 :block/parents 94 536870924] [106 :block/parents 99 536870924] [106 :block/parents 103 536870924] [106 :block/parents 105 536870924] [106 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870920] [106 :block/uid "MjSN0oW83" 536870920] [106 :create/email "foo@gmail.com" 536870920] [106 :create/time 1611395822803 536870920] [106 :edit/email "imagine@gmail.com" 536870920] [106 :edit/time 1611595285871 536870920] [107 :block/children 108 536870920] [107 :block/children 111 536870920] [107 :block/heading 1 536870920] [107 :block/open false 536870920] [107 :block/order 5 536870920] [107 :block/page 7 536870924] [107 :block/parents 7 536870924] [107 :block/parents 42 536870924] [107 :block/string "Pull examples" 536870920] [107 :block/uid "TVWKAcytG" 536870920] [107 :create/email "foo@gmail.com" 536870920] [107 :create/time 1611422738727 536870920] [107 :edit/email "imagine@gmail.com" 536870920] [107 :edit/time 1611595285871 536870920] [108 :block/children 109 536870920] [108 :block/heading 2 536870920] [108 :block/open false 536870920] [108 :block/order 0 536870920] [108 :block/page 7 536870924] [108 :block/parents 7 536870924] [108 :block/parents 42 536870924] [108 :block/parents 107 536870924] [108 :block/string "Pull top level paragraphs on this page" 536870920] [108 :block/uid "6UU-Iglgh" 536870920] [108 :create/email "foo@gmail.com" 536870920] [108 :create/time 1611425169359 536870920] [108 :edit/email "imagine@gmail.com" 536870920] [108 :edit/time 1611595285871 536870920] [109 :block/children 110 536870920] [109 :block/open false 536870920] [109 :block/order 0 536870920] [109 :block/page 7 536870924] [109 :block/parents 7 536870924] [109 :block/parents 42 536870924] [109 :block/parents 107 536870924] [109 :block/parents 108 536870924] [109 :block/string "```clojure\n[:find (pull ?e [*{:block/children [*]}]) \n :where [?e :node/title \"Datomic Query Examples\"]]```" 536870920] [109 :block/uid "zXaVTh81g" 536870920] [109 :create/email "foo@gmail.com" 536870920] [109 :create/time 1611408771363 536870920] [109 :edit/email "imagine@gmail.com" 536870920] [109 :edit/time 1611595285871 536870920] [110 :block/open true 536870920] [110 :block/order 0 536870920] [110 :block/page 7 536870924] [110 :block/parents 7 536870924] [110 :block/parents 42 536870924] [110 :block/parents 107 536870924] [110 :block/parents 108 536870924] [110 :block/parents 109 536870924] [110 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [110 :block/uid "ojMY112nT" 536870920] [110 :create/email "foo@gmail.com" 536870920] [110 :create/time 1611408771363 536870920] [110 :edit/email "imagine@gmail.com" 536870920] [110 :edit/time 1611595285871 536870920] [111 :block/children 112 536870920] [111 :block/heading 2 536870920] [111 :block/open false 536870920] [111 :block/order 1 536870920] [111 :block/page 7 536870924] [111 :block/parents 7 536870924] [111 :block/parents 42 536870924] [111 :block/parents 107 536870924] [111 :block/string "Pull list of children for 'roam/' namespace" 536870920] [111 :block/uid "qZBQ9gdA0" 536870920] [111 :create/email "foo@gmail.com" 536870920] [111 :create/time 1611425193614 536870920] [111 :edit/email "imagine@gmail.com" 536870920] [111 :edit/time 1611595285871 536870920] [112 :block/children 113 536870920] [112 :block/open false 536870920] [112 :block/order 0 536870920] [112 :block/page 7 536870924] [112 :block/parents 7 536870924] [112 :block/parents 42 536870924] [112 :block/parents 107 536870924] [112 :block/parents 111 536870924] [112 :block/string "```clojure\n[:find ?title:name ?title:uid ?time:date (pull ?page [*])\n :where [?page :node/title ?title:name]\n        [?page :block/uid ?title:uid]\n        [?page :edit/time ?time:date]\n        [(clojure.string/starts-with? ?title:name \"roam/\")]]```" 536870920] [112 :block/uid "YqQeBQe6-" 536870920] [112 :create/email "foo@gmail.com" 536870920] [112 :create/time 1611425215709 536870920] [112 :edit/email "imagine@gmail.com" 536870920] [112 :edit/time 1611595285871 536870920] [113 :block/open true 536870920] [113 :block/order 0 536870920] [113 :block/page 7 536870924] [113 :block/parents 7 536870924] [113 :block/parents 42 536870924] [113 :block/parents 107 536870924] [113 :block/parents 111 536870924] [113 :block/parents 112 536870924] [113 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870920] [113 :block/uid "yDQ2RUm8R" 536870920] [113 :create/email "foo@gmail.com" 536870920] [113 :create/time 1611425223601 536870920] [113 :edit/email "imagine@gmail.com" 536870920] [113 :edit/time 1611595285871 536870920] [114 :block/children 115 536870921] [114 :block/heading 1 536870921] [114 :block/open false 536870921] [114 :block/order 0 536870921] [114 :block/page 12 536870925] [114 :block/parents 12 536870925] [114 :block/string "Common functions" 536870921] [114 :block/uid "qewpxrldh" 536870921] [114 :create/email "foo@gmail.com" 536870921] [114 :create/time 1611340466472 536870921] [114 :edit/email "imagine@gmail.com" 536870921] [114 :edit/time 1611595286067 536870921] [115 :block/children 117 536870921] [115 :block/open false 536870921] [115 :block/order 0 536870921] [115 :block/page 12 536870925] [115 :block/parents 12 536870925] [115 :block/parents 114 536870925] [115 :block/refs 116 536870921] [115 :block/string "{{[[roam/js]]}}" 536870921] [115 :block/uid "L4y5xRzk_" 536870921] [115 :create/email "foo@gmail.com" 536870921] [115 :create/time 1611340474630 536870921] [115 :edit/email "imagine@gmail.com" 536870921] [115 :edit/time 1611595286067 536870921] [116 :block/children 143 536870931] [116 :block/open true 536870931] [116 :block/uid "gcsd7Kx71" 536870921] [116 :create/email "imagine@gmail.com" 536870921] [116 :create/time 1611595285734 536870921] [116 :edit/email "imagine@gmail.com" 536870921] [116 :edit/seen-by 3 536870935] [116 :edit/time 1611595286067 536870921] [116 :node/title "roam/js" 536870921] [117 :block/open true 536870921] [117 :block/order 0 536870921] [117 :block/page 12 536870925] [117 :block/parents 12 536870925] [117 :block/parents 114 536870925] [117 :block/parents 115 536870925] [117 :block/string "```javascript\nwindow.datomicQuery = {\n  MAXROWS: 40,\n  reg_fields_string: null,\n  reg_fields: null,\n  reg_field: null,\n  reg_is_pull: null,\n  field_names: [],\n  output: '',\n  \n  init() {\n    this.reg_fields_string = new RegExp(/\\:find\\s+(.+)/);\n    this.reg_fields        = new RegExp(/(\\?[^\\s]+|\\(pull.+\\))/g);\n    this.reg_field         = new RegExp(/\\?([\\w\\d]+)\\:?([\\w\\d]+)?/);\n    this.reg_is_pull       = new RegExp(/(\\(.+\\))/);//(\\(\\s?pull.+\\))\n  },\n  \n  //Helper functions to get clickeable links\n  getLocation(uid) {\n    if (window.location.href.includes('/page/')) \n      return window.location.href.substring(window.location.origin.length+1,window.location.href.length-9)+uid;\n    else\n      return window.location.href.substring(window.location.origin.length+1,window.location.href.length)+'/page/'+uid\n  },\n  pageLink(title, uid) {\n    return `[:a {:class \"rm-page__title\", :href \"${this.getLocation(uid)}\"} \"${title}\"]`;\n  },\n  toTwoDigits(number) {\n    return  (\"0\" + number).slice(-2);\n  },\n  msToDate(ms) {\n    dt = new Date(ms);\n    month = this.toTwoDigits(dt.getMonth()+1);\n    day = this.toTwoDigits(dt.getDate());\n    year = dt.getFullYear();\n    uid = [month,day,year].join('-');\n    title = [year, month, day].join('-');\n    return this.pageLink(title,uid);\n  },\n\n  //In the end only the \"quotation mark\" needs an escape character due to hiccup\n  encodeString(s){ \n    return s.replace(/[\"]/g, function(i) {\n      return '\\\\\"';\n    });\n  },\n\n  //Helper function to check if variable is a dictionary object\n  isDict(v) {\n    return typeof v==='object' && v!==null && !(v instanceof Array) && !(v instanceof Date);\n  },\n\n  //recursive function to process the result set tree\n  printResult(o,new_lines) {\n    //Dictionary\n    if (this.isDict(o)) {\n      s = '[:table {:class \"detail\"} [:tbody ';\n      for (var key in o) {\n        val = o[key];\n        if (key == 'title') \n          if (o['uid'] !== undefined)\n            val = this.pageLink(val,o['uid']);\n        if (key == 'time') \n          val = this.msToDate(o[key]);\n        s += `[:tr [:td {:class \"key\"} \"${key}\"][:td {:class \"val\"} ${(o[key] != val) ? val : this.printResult(val,new_lines)}]]`;\n      }\n      return s+']]';\n    }\n    //Array\n    else if (o instanceof Array) {  \n  \t  s = (new_lines) ? '[:table [:tbody ' : '';\n      for (let i=0;i<this.MAXROWS/4 && i<o.length;i++) {\n      //for (e of o) {       \n      \ts += ((new_lines) ? '[:tr {:class \"' +(i%2 ? 'even val\"}':'odd val\"}') : '[:td {:class \"val\"}') + this.printResult(o[i],!new_lines)+']';\n      }\n      return s + ((new_lines) ? ']]' : '');\n    }\n    //Value\n    else\n      if (o != null) \n      \treturn '\"' + this.encodeString(o.toString()) + '\"';\n      else \n        return '\"\"';\n  },\n    \n  getParentBlock() {\n    let uid = document.querySelector(\"textarea.rm-block-input\").id;\n    uid = uid.substring( uid.length -9);\n    return s = window.roamAlphaAPI.q(`[:find ?s\n  \t\t\t\t\t\t\t\t:in $ ?uid\n  \t\t\t\t\t\t\t\t:where \n  \t\t\t\t\t\t\t\t[?b :block/uid ?uid]\n  \t\t\t\t\t\t\t\t[?p :block/children ?b]\n\t\t\t\t\t\t\t\t[?p :block/string ?s]]`,uid);\n  }, \n\n  buildTableHeader(query) {\n    this.output = ':hiccup [:div \"Click here to edit block...\" [:br][:div {:class \"scroller dont-focus-block\"}  [:table [:tbody [:tr ';\n    this.field_names = [];    \n    let fields = Array.from(query.match(this.reg_fields_string)[1].matchAll(this.reg_fields));\n\tfor (var f of fields) \n      if (f[0].match(this.reg_is_pull) != null) \n        this.field_names.push([f[0],'pull']);\n      else {\n        m = f[0].match(this.reg_field);\n      this.field_names.push([m[1],(m[2] === undefined) ? '':m[2]]);\n    }\n    this.field_names.forEach(function(field,i) { \n      if (field[1]!='uid') \n        window.datomicQuery.output += '[:td {:class \"head\"} \"'+field[0]+'\"]';\n    });\n    this.output += ']';\n  },\n\n  processResults(results,query) {\n    query = query.replaceAll('\\n',' ').replace(':in','\\n:in').replace(':where','\\n:where');\n    this.buildTableHeader(query);\n    //The first two levels are handled differently to enable processing of page links at the top level\n    for (let i=0;i<this.MAXROWS && i<results.length;i++) {\n      let title = '';\n      this.output += '[:tr {:class \"' +(i%2 ? 'even\"}':'odd\"}');\n      this.field_names.forEach(function(fn,j) {\n        switch(fn[1]) {\n          case 'name': title = results[i][j]; break;\n          case 'uid' : window.datomicQuery.output +=  '[:td {:class \"val\"}' + window.datomicQuery.pageLink(title, results[i][j]) +']'; break;\n          case 'date': window.datomicQuery.output +=  '[:td {:class \"val\"}' + window.datomicQuery.msToDate(results[i][j]) +']';   + ']'; break;  \n          default:     window.datomicQuery.output +=  '[:td {:class \"val\"}' + window.datomicQuery.printResult(results[i][j],false) +']'; \n        }\n      });\n      this.output += ']';\n    }\n    return this.output;\n  }\n}\n\nwindow.datomicQuery.init();\nlet css = window.document.styleSheets[0];\ncss.insertRule('table.detail { width:100%; border-style: solid; border-width: thin; }', css.cssRules.length);\ncss.insertRule('td.key { padding-right: 10px; filter: brightness(110%); vertical-align: top; }', css.cssRules.length);\ncss.insertRule('td.head { padding-right: 10px; background-color: rgba(0,0,0,0.15); filter: brightness(120%); font-weight: 800; vertical-align: top; }', css.cssRules.length);\ncss.insertRule('td.val { padding-right: 10px; vertical-align: top; }', css.cssRules.length);\ncss.insertRule('tr.odd { background: rgba(255,255,255,0.05); vertical-align: top; }', css.cssRules.length);\ncss.insertRule('tr.even { background-color: rgba(0,0,0,0.05); vertical-align: top;}', css.cssRules.length);\ncss.insertRule('div.scroller { width: 100%; max-height: 500px; overflow-y: hidden; overflow: auto; }', css.cssRules.length);```" 536870921] [117 :block/uid "6z_WpH2wC" 536870921] [117 :create/email "foo@gmail.com" 536870921] [117 :create/time 1611340483595 536870921] [117 :edit/email "imagine@gmail.com" 536870921] [117 :edit/time 1611595286067 536870921] [118 :block/children 119 536870921] [118 :block/children 123 536870921] [118 :block/heading 1 536870921] [118 :block/open false 536870921] [118 :block/order 1 536870921] [118 :block/page 12 536870926] [118 :block/parents 12 536870926] [118 :block/string "Query execution" 536870921] [118 :block/uid "jtkCCTLv5" 536870921] [118 :create/email "foo@gmail.com" 536870921] [118 :create/time 1611349318194 536870921] [118 :edit/email "imagine@gmail.com" 536870921] [118 :edit/time 1611595286067 536870921] [119 :block/children 121 536870921] [119 :block/open false 536870921] [119 :block/order 0 536870921] [119 :block/page 12 536870926] [119 :block/parents 12 536870926] [119 :block/parents 118 536870926] [119 :block/refs 120 536870921] [119 :block/string "#42SmartBlock Datomic simple-query <%NOCURSOR%><%HIDE%>" 536870921] [119 :block/uid "SqaSpXgkh" 536870921] [119 :create/email "foo@gmail.com" 536870921] [119 :create/time 1611341377021 536870921] [119 :edit/email "imagine@gmail.com" 536870921] [119 :edit/time 1611595286067 536870921] [120 :block/uid "7MoPeV1Mf" 536870921] [120 :create/email "imagine@gmail.com" 536870921] [120 :create/time 1611595285739 536870921] [120 :edit/email "imagine@gmail.com" 536870921] [120 :edit/time 1611595286067 536870921] [120 :node/title "42SmartBlock" 536870921] [121 :block/children 122 536870921] [121 :block/open false 536870921] [121 :block/order 0 536870921] [121 :block/page 12 536870926] [121 :block/parents 12 536870926] [121 :block/parents 118 536870926] [121 :block/parents 119 536870926] [121 :block/string "" 536870921] [121 :block/uid "kC8klyHzO" 536870921] [121 :create/email "foo@gmail.com" 536870921] [121 :create/time 1611341377021 536870921] [121 :edit/email "imagine@gmail.com" 536870921] [121 :edit/time 1611595286067 536870921] [122 :block/open true 536870921] [122 :block/order 0 536870921] [122 :block/page 12 536870926] [122 :block/parents 12 536870926] [122 :block/parents 118 536870926] [122 :block/parents 119 536870926] [122 :block/parents 121 536870926] [122 :block/string "<%J:```javascript\nlet reg_parent_string = new RegExp('\\`\\`\\`clojure\\\\s(.+)\\`\\`\\`','s');\n\nlet query;\ntry{\n  query = window.datomicQuery.getParentBlock()[0][0].match(reg_parent_string)[1];\n} catch (err) {\n  return 'ERROR - make sure you run the query from a block nested immediately under your query. Also check that common functions on [[Template/Datomic Query]] are running.';\n}\n\n//Execute query\nlet results;\ntry { \t\n  results = window.roamAlphaAPI.q(query);\n} catch (err) {\n  return err;\n}\n\nreturn window.datomicQuery.processResults(results,query) + ']]]]';```%>" 536870921] [122 :block/uid "oBzda629V" 536870921] [122 :create/email "foo@gmail.com" 536870921] [122 :create/time 1611341377021 536870921] [122 :edit/email "imagine@gmail.com" 536870921] [122 :edit/time 1611595286067 536870921] [123 :block/children 124 536870921] [123 :block/open false 536870921] [123 :block/order 1 536870921] [123 :block/page 12 536870926] [123 :block/parents 12 536870926] [123 :block/parents 118 536870926] [123 :block/refs 120 536870921] [123 :block/string "#42SmartBlock Datomic advanced-query <%NOCURSOR%><%HIDE%>" 536870921] [123 :block/uid "0HOoaqrLC" 536870921] [123 :create/email "foo@gmail.com" 536870921] [123 :create/time 1611341377021 536870921] [123 :edit/email "imagine@gmail.com" 536870921] [123 :edit/time 1611595286067 536870921] [124 :block/children 125 536870921] [124 :block/open false 536870921] [124 :block/order 0 536870921] [124 :block/page 12 536870926] [124 :block/parents 12 536870926] [124 :block/parents 118 536870926] [124 :block/parents 123 536870926] [124 :block/string "" 536870921] [124 :block/uid "dxHaqLh8V" 536870921] [124 :create/email "foo@gmail.com" 536870921] [124 :create/time 1611341377021 536870921] [124 :edit/email "imagine@gmail.com" 536870921] [124 :edit/time 1611595286067 536870921] [125 :block/open true 536870921] [125 :block/order 0 536870921] [125 :block/page 12 536870926] [125 :block/parents 12 536870926] [125 :block/parents 118 536870926] [125 :block/parents 123 536870926] [125 :block/parents 124 536870926] [125 :block/string "<%J:```javascript\nlet reg_parent_string = new RegExp('\\`\\`\\`javascript\\\\s(.+)\\`\\`\\`','s');\nlet script_to_run;\ntry {\n  script_to_run = window.datomicQuery.getParentBlock()[0][0].match(reg_parent_string)[1];\n} catch (err) {\n  return 'ERROR - make sure you run the query from a block nested immediately under your query. Also check that common functions on [[Template/Datomic Query]] are running.';\n}\n\n//Execute query\nlet res;\ntry {\n  res = new Function(script_to_run.toString())();\n} catch (err) {\n  return err;\n}\nlet query = res[0];\nlet results = res[1];\n\nreturn window.datomicQuery.processResults(results,query) + ']]]]';```%>" 536870921] [125 :block/uid "sh6_5TPxP" 536870921] [125 :create/email "foo@gmail.com" 536870921] [125 :create/time 1611341377021 536870921] [125 :edit/email "imagine@gmail.com" 536870921] [125 :edit/time 1611595286067 536870921] [126 :block/children 127 536870921] [126 :block/children 130 536870921] [126 :block/children 133 536870921] [126 :block/heading 1 536870921] [126 :block/open false 536870921] [126 :block/order 2 536870921] [126 :block/page 12 536870927] [126 :block/parents 12 536870927] [126 :block/string "Templates" 536870921] [126 :block/uid "URJADDfXx" 536870921] [126 :create/email "foo@gmail.com" 536870921] [126 :create/time 1611349307857 536870921] [126 :edit/email "imagine@gmail.com" 536870921] [126 :edit/time 1611595286067 536870921] [127 :block/children 128 536870921] [127 :block/open false 536870921] [127 :block/order 0 536870921] [127 :block/page 12 536870927] [127 :block/parents 12 536870927] [127 :block/parents 126 536870927] [127 :block/refs 120 536870921] [127 :block/string "#42SmartBlock Datomic simple-template <%NOCURSOR%>" 536870921] [127 :block/uid "dGdWvhJEd" 536870921] [127 :create/email "foo@gmail.com" 536870921] [127 :create/time 1611311242433 536870921] [127 :edit/email "imagine@gmail.com" 536870921] [127 :edit/time 1611595286067 536870921] [128 :block/children 129 536870921] [128 :block/open false 536870921] [128 :block/order 0 536870921] [128 :block/page 12 536870927] [128 :block/parents 12 536870927] [128 :block/parents 126 536870927] [128 :block/parents 127 536870927] [128 :block/string "{{CLICK TO REMOVE HEADER MESSAGE:42SmartBlock:Remove query-template header}}\n^^1.^^ If within the **[:find** clause you designate a field with **:name** (e.g. ?title:name) it must be followed by a field designated by **:uid** (e.g. ?title:uid), these two fields will be combined into a page link. \n^^2.^^ Fields containing time data, designated with **:date** will be converted into a friendly format date including a link to the daily page.\n^^3.^^ Fields within a **(pull ) or an aggregate function e.g. (min )** will not be checked for :name :uid :date \n<%J:```javascript\nlet s = \"\\`\\`\\`clojure\\n\";\ns += '[:find ?title:name ?title:uid ?time:date\\n';\ns += ' :where [?page :node/title ?title:name]\\n';\ns += '        [?page :block/uid ?title:uid]\\n';\ns += '        [?page :edit/time ?time:date]\\n';\ns += '        [(clojure.string/starts-with? ?title:name \"roam/\")]]';\ns += \"\\`\\`\\`\";\nreturn s;```%>" 536870921] [128 :block/uid "6X__ZdM-0" 536870921] [128 :create/email "foo@gmail.com" 536870921] [128 :create/time 1611311242432 536870921] [128 :edit/email "imagine@gmail.com" 536870921] [128 :edit/time 1611595286067 536870921] [129 :block/open true 536870921] [129 :block/order 0 536870921] [129 :block/page 12 536870927] [129 :block/parents 12 536870927] [129 :block/parents 126 536870927] [129 :block/parents 127 536870927] [129 :block/parents 128 536870927] [129 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870921] [129 :block/uid "i5NKEsc2j" 536870921] [129 :create/email "foo@gmail.com" 536870921] [129 :create/time 1611311242432 536870921] [129 :edit/email "imagine@gmail.com" 536870921] [129 :edit/time 1611595286067 536870921] [130 :block/children 131 536870921] [130 :block/open false 536870921] [130 :block/order 1 536870921] [130 :block/page 12 536870927] [130 :block/parents 12 536870927] [130 :block/parents 126 536870927] [130 :block/refs 120 536870921] [130 :block/string "#42SmartBlock Datomic advanced-template <%NOCURSOR%>" 536870921] [130 :block/uid "C_C2P86Zr" 536870921] [130 :create/email "foo@gmail.com" 536870921] [130 :create/time 1611264302389 536870921] [130 :edit/email "imagine@gmail.com" 536870921] [130 :edit/time 1611595286067 536870921] [131 :block/children 132 536870921] [131 :block/open false 536870921] [131 :block/order 0 536870921] [131 :block/page 12 536870927] [131 :block/parents 12 536870927] [131 :block/parents 126 536870927] [131 :block/parents 130 536870927] [131 :block/string "{{CLICK TO REMOVE HEADER MESSAGE:42SmartBlock:Remove query-template header}}\n^^1.^^ If within the **[:find** clause you designate a field with **:name** (e.g. ?title:name) it must be followed by a field designated by **:uid** (e.g. ?title:uid), these two fields will be combined into a page link. \n^^2.^^ Fields containing time data, designated with **:date** will be converted into a friendly format date including a link to the daily page.\n^^3.^^ Fields within a **(pull ) or an aggregate function e.g. (min )** will not be checked for :name :uid :date\n<%J:```javascript\nlet s = \"\\`\\`\\`javascript\\n\";\ns += \"window.datomicQuery.MAXROWS = 40;\\n\\n\";\ns += \"let rule = \\`\\`;\\n\\n\";\ns += \"let query = `[:find ?title:name ?title:uid ?time:date\\n\";\ns += \"\t\t\t\t:in $ ?namespace\\n\";\ns += \"\t\t\t\t:where [?page :node/title ?title:name]\\n\";\ns += \"\t\t\t\t\t   [?page :block/uid ?title:uid]\\n\";\ns += \"\t\t\t\t\t   [?page :edit/time ?time:date]\\n\";\ns += \"\t\t\t\t\t   [(clojure.string/starts-with? ?title:name ?namespace)]]`;\\n\\n\";\ns += \"let results = window.roamAlphaAPI.q(query,'roam/');\\n\\n\";\ns += \"return [query, results];\";\ns += \"\\`\\`\\`\";\nreturn s;```%>" 536870921] [131 :block/uid "THreEg6fN" 536870921] [131 :create/email "foo@gmail.com" 536870921] [131 :create/time 1611308764753 536870921] [131 :edit/email "imagine@gmail.com" 536870921] [131 :edit/time 1611595286067 536870921] [132 :block/open true 536870921] [132 :block/order 0 536870921] [132 :block/page 12 536870927] [132 :block/parents 12 536870927] [132 :block/parents 126 536870927] [132 :block/parents 130 536870927] [132 :block/parents 131 536870927] [132 :block/string "{{CLICK TO RUN ADVANCED-QUERY:42SmartBlock:Datomic advanced-query:42RemoveButton=false}}" 536870921] [132 :block/uid "kjDjpWrgP" 536870921] [132 :create/email "foo@gmail.com" 536870921] [132 :create/time 1611264582215 536870921] [132 :edit/email "imagine@gmail.com" 536870921] [132 :edit/time 1611595286067 536870921] [133 :block/children 134 536870921] [133 :block/open false 536870921] [133 :block/order 2 536870921] [133 :block/page 12 536870927] [133 :block/parents 12 536870927] [133 :block/parents 126 536870927] [133 :block/refs 120 536870921] [133 :block/string "#42SmartBlock Remove query-template header <%NOCURSOR%> <%HIDE%>" 536870921] [133 :block/uid "RLr9-Cv2-" 536870921] [133 :create/email "foo@gmail.com" 536870921] [133 :create/time 1611401024934 536870921] [133 :edit/email "imagine@gmail.com" 536870921] [133 :edit/time 1611595286067 536870921] [134 :block/open true 536870921] [134 :block/order 0 536870921] [134 :block/page 12 536870927] [134 :block/parents 12 536870927] [134 :block/parents 126 536870927] [134 :block/parents 133 536870927] [134 :block/string "<%J:```javascript\nlet txt = document.querySelector(\"textarea.rm-block-input\").value;\ntxt = txt.substr(txt.indexOf('`'));\ndocument.querySelector(\"textarea.rm-block-input\").value = '';\nreturn txt;```%>" 536870921] [134 :block/uid "7T1qsgBE6" 536870921] [134 :create/email "foo@gmail.com" 536870921] [134 :create/time 1611401074414 536870921] [134 :edit/email "imagine@gmail.com" 536870921] [134 :edit/time 1611595286067 536870921] [142 :block/open false 536870931] [142 :block/order 0 536870931] [142 :block/page 116 536870933] [142 :block/parents 116 536870933] [142 :block/parents 143 536870939] [142 :block/string "```javascript\n\nvar s = document.createElement('script');\n\ts.type = \"text/javascript\";\n  \ts.src =  \"https://roam42.glitch.me/main.js\";\n  \ts.async = true;\ndocument.body.appendChild(s);\n```" 536870931] [142 :block/uid "nBoIvWqdh" 536870931] [142 :create/email "kunicki@gmail.com" 536870931] [142 :create/time 1608480539406 536870931] [142 :edit/email "imagine@gmail.com" 536870931] [142 :edit/time 1611595344040 536870931] [143 :block/children 142 536870937] [143 :block/open true 536870931] [143 :block/order 0 536870931] [143 :block/page 116 536870934] [143 :block/parents 116 536870934] [143 :block/refs 116 536870938] [143 :block/string " {{{[[roam/js]]}}}" 536870937] [143 :block/uid "_jaD0d6Ko" 536870931] [143 :create/email "kunicki@gmail.com" 536870931] [143 :create/time 1608480539406 536870931] [143 :edit/email "imagine@gmail.com" 536870931] [143 :edit/seen-by 3 536870935] [143 :edit/time 1611595348006 536870937] [146 :easter/egg "You could store numbers, reference information, complete databases in Roam." 536870966] [147 :easter/egg "You could create full featured custom applications, without the need to hack the block strings." 536870966] [148 :easter/egg "It would make Roam truly universal!" 536870966] [150 :block/children 152 536870931] [150 :block/children 160 536870918] [150 :block/children 161 536870929] [150 :block/children 162 536870933] [150 :block/open true 536870931] [150 :block/uid "gY9v6hOSz" 536870924] [150 :create/email "imagine@gmail.com" 536870924] [150 :create/time 1611596683987 536870924] [150 :edit/email "imagine@gmail.com" 536870924] [150 :edit/time 1611596683988 536870924] [150 :node/title "Imagine" 536870924] [150 :page/sidebar 0 536870954] [152 :block/children 153 536870931] [152 :block/open true 536870931] [152 :block/order 3 536870933] [152 :block/page 150 536870932] [152 :block/parents 150 536870932] [152 :block/string "```clojure\n[:find ?message\n :where [_ :easter/egg ?message]]```" 536870944] [152 :block/uid "Kjeo5qE6W" 536870931] [152 :create/email "imagine@gmail.com" 536870931] [152 :create/time 1611595373502 536870931] [152 :edit/email "imagine@gmail.com" 536870931] [152 :edit/time 1611596729769 536870944] [153 :block/open true 536870931] [153 :block/order 0 536870931] [153 :block/page 150 536870932] [153 :block/parents 150 536870932] [153 :block/parents 152 536870932] [153 :block/string "{{CLICK TO RUN SIMPLE-QUERY:42SmartBlock:Datomic simple-query:42RemoveButton=false}}" 536870927] [153 :block/uid "QxKf__JR2" 536870931] [153 :create/email "imagine@gmail.com" 536870931] [153 :create/time 1611595380592 536870931] [153 :edit/email "imagine@gmail.com" 536870931] [153 :edit/time 1611596945271 536870927] [156 :block/open true 536870957] [156 :block/order 0 536870957] [156 :block/page 4 536870958] [156 :block/parents 4 536870958] [156 :block/refs 150 536870960] [156 :block/string "[[Imagine]]" 536870959] [156 :block/uid "fMJ_YtGdR" 536870957] [156 :create/email "imagine@gmail.com" 536870957] [156 :create/time 1611596760533 536870957] [156 :edit/email "imagine@gmail.com" 536870957] [156 :edit/time 1611596764549 536870959] [157 :block/children 159 536870964] [157 :block/open true 536870964] [157 :block/uid "01-26-2021" 536870961] [157 :create/email "imagine@gmail.com" 536870961] [157 :create/time 1611596775449 536870961] [157 :edit/email "imagine@gmail.com" 536870961] [157 :edit/time 1611596775451 536870961] [157 :log/id 1611615600000 536870961] [157 :node/title "January 26th, 2021" 536870961] [159 :block/open true 536870964] [159 :block/order 0 536870964] [159 :block/page 157 536870966] [159 :block/parents 157 536870966] [159 :block/string "" 536870967] [159 :block/uid "6GCf5paKq" 536870964] [159 :create/email "imagine@gmail.com" 536870964] [159 :create/time 1611596777163 536870964] [159 :edit/email "imagine@gmail.com" 536870964] [159 :edit/time 1611596781481 536870967] [160 :block/open true 536870918] [160 :block/order 0 536870918] [160 :block/page 150 536870919] [160 :block/parents 150 536870919] [160 :block/refs 116 536870922] [160 :block/string "Open [[roam/js]] and start Roam42 and Datomic Query Custom Functions." 536870940] [160 :block/uid "6pD0bu1Mh" 536870918] [160 :create/email "imagine@gmail.com" 536870918] [160 :create/time 1611597961262 536870918] [160 :edit/email "imagine@gmail.com" 536870918] [160 :edit/time 1611598006576 536870940] [161 :block/open true 536870929] [161 :block/order 1 536870929] [161 :block/page 150 536870930] [161 :block/parents 150 536870930] [161 :block/string "Then press the button below," 536870942] [161 :block/uid "lKELl4giB" 536870929] [161 :create/email "imagine@gmail.com" 536870929] [161 :create/time 1611597990376 536870929] [161 :edit/email "imagine@gmail.com" 536870929] [161 :edit/time 1611598008394 536870942] [162 :block/open true 536870933] [162 :block/order 2 536870933] [162 :block/page 150 536870934] [162 :block/parents 150 536870934] [162 :block/string "and imagine what would be possible, if..." 536870945] [162 :block/uid "GllBXW9Oo" 536870933] [162 :create/email "imagine@gmail.com" 536870933] [162 :create/time 1611597997029 536870933] [162 :edit/email "imagine@gmail.com" 536870933] [162 :edit/time 1611598032339 536870945]]}